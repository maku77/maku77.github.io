<!DOCTYPE html>
<html lang="ja">
<head prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb#">
  

  <meta charset="UTF-8">



<!-- Google Search Console -->
<meta name="google-site-verification" content="LhFi5Dhj5KOfXR186QkncucRdBpmVd8B19v-7zcAmlY" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

  <meta name="description" content="å¤©æ‰æ˜Ÿäººã¾ãã®Vagrantãƒãƒ¼ãƒˆ">

<meta name="keywords" content="Android,Awk,Best Practice,C/C++,CSS,Docker,Fintech,Git,GitHub,Gradle,HTML5,Java,JavaScript,Middleman,MetaTrader,MT4,MT5,Perforce,Python,Ruby,Sed,Shell Script,Vim">

<!-- You can use open graph tags to customize link previews.
Learn more: https://developers.facebook.com/docs/sharing/webmasters -->
<meta property="og:site_name" content="å¤©æ‰ã¾ãã¾ããƒãƒ¼ãƒˆ" />
<meta property="og:url"     content="https://maku77.github.io/vagrant/port-forward.html" />
<meta property="og:type"    content="website" />
<meta property="og:image"   content="https://maku77.github.io/assets/img/logo-vagrant.png" />

  <meta property="og:description" content="å¤©æ‰æ˜Ÿäººã¾ãã®Vagrantãƒãƒ¼ãƒˆ">

<meta property="fb:app_id"  content="447708168769292" />

<link rel="stylesheet" href="/assets/css/default.css">
<link rel="stylesheet" href="/assets/css/highlight.css">

<!-- Favicons start -->
  <link rel="icon" sizes="16x16 32x32 48x48 64x64" href="/assets/img/favicon/favicon.ico"/>
  <!--[if IE]>
  <link rel="shortcut icon" href="favicon.ico"/>
  <![endif]-->
  <!-- Optional: Android & iPhone -->
  <link rel="apple-touch-icon-precomposed" href="/assets/img/favicon/favicon-152.png"/>
<!-- Favicons end -->


  <!-- Google Ad Manager -->
  <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/22026661446/maku77-sidebar', [200, 200], 'div-gpt-ad-1590069504630-0').addService(googletag.pubads());
    googletag.pubads().enableLazyLoad();
    googletag.enableServices();
  });
</script>


  <!-- Codoc æŠ•ã’éŠ­ãƒ©ã‚¤ãƒ–ãƒ©ãƒª -->
  <style>
/* codoc ã‚µãƒãƒ¼ãƒˆãƒœã‚¿ãƒ³ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
.codoc-support {
  display: inline-block;
  margin: 0 !important;
  padding: 12px !important;
  width: 400px;
  max-width: 100%;
  /* background: gray !important; */
}
.codoc-support .codoc-support-title {
  font-size: smaller !important;
  white-space: nowrap;
  margin-bottom: 12px !important;
}
.codoc-support .codoc-btn {
  width: 180px !important;
}
</style>
<script src="https://codoc.jp/js/cms.js" data-css="black" data-usercode="tp6ZPzTj3w" charset="UTF-8" defer></script>


  <!-- Google Analytics -->
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X5962TDYXS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-X5962TDYXS');
</script>



  <meta property="og:title" content="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚Šä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ | ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆ" />
  <title>ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚Šä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ - ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆ</title>

  <!-- Ad (Google) -->
  
</head>
<body>

<div class="xPageHeader">
  <a href="/vagrant/">
    <img src="/assets/img/logo-vagrant.svg" class="xPageHeader_logo">
  </a>
  <a href="/vagrant/">
    <div class="xPageHeader_category">
    ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆ
    </div>
  </a>
  <div class="xPageHeader_title">ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚Šä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</div>
</div>

<div id="xBody">
  

<div class="xBreadCrumbContainer">
  <div class="xBreadCrumb"><a href="/">&#x1F3E0;HOME</a> &gt; <a href="/vagrant/">Vagrant</a></div>
  <div class="xPageDate">2016-10-24</div>
</div>

  

  <form action="https://www.google.co.jp/cse" id="cse-search-box">
  <div class="xSearchBar">
    <input type="hidden" name="cx" value="partner-pub-6317852277883092:5930376365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input class="xSearchBar_text" type="search" name="q" placeholder="ãƒãƒ¼ãƒˆã‚’æ¤œç´¢ã§ãã¾ã™â€¦" size="55" results="5" autocomplete="off" /><input class="xSearchBar_button" type="submit" name="sa" value="&#128269; æ¤œç´¢ " />
  </div>
</form>



  <div id="xContainer">
    <div id="xContainer_main">
      <!-- SNS ãƒœã‚¿ãƒ³ï¼ˆä¸Šï¼‰ -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">




<ul class="xSnsButtons">
  <!-- Twitter -->
  <li class="xSnsButtons_twitter">
    <a rel="nofollow" href="https://twitter.com/share?text=ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆï¼š ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚Šä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹&url=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'tweet_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-twitter"></i><span class="xSnsButtons_label">ãƒ„ã‚¤ãƒ¼ãƒˆ</span>
    </a>
  </li>

  <!-- Facebook -->
  <li class="xSnsButtons_facebook">
    <a rel="nofollow" href="https://www.facebook.com/share.php?u=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'facebook_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-facebook-square"></i><span class="xSnsButtons_label">ã‚·ã‚§ã‚¢</span>
    </a>
  </li>

  <!-- Pocket -->
  <li class="xSnsButtons_pocket">
    <a rel="nofollow" href="https://getpocket.com/edit?url=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'pocket_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-get-pocket"></i><span class="xSnsButtons_label">Pocket</span>
    </a>
  </li>
</ul>



      

      <!-- æ¦‚è¦ -->
      

      <div class="xWidget">
        
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6317852277883092"
     data-ad-slot="8099671242"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


      </div>

      <div class="xContent">
        <!-- æœ¬æ–‡ -->
        <h2 id="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã«ã¤ã„ã¦">ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã«ã¤ã„ã¦</h2>

<p>Vagrant ä»®æƒ³ãƒã‚·ãƒ³å†…ã§ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãã®ãƒãƒ¼ãƒˆã¯ä»®æƒ³ãƒã‚·ãƒ³å†…ã§é–‰ã˜ãŸä¸–ç•Œã®ã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã€‚
ä¾‹ãˆã°ã€ä»®æƒ³ãƒã‚·ãƒ³å†…ã§ Web ã‚µãƒ¼ãƒã‚’ãƒãƒ¼ãƒˆç•ªå· 80 ã§ç«‹ã¡ä¸Šã’ãŸã ã‘ã§ã¯ã€å¤–ã®ä¸–ç•Œï¼ˆãƒ›ã‚¹ãƒˆå´ï¼‰ã‹ã‚‰ <code class="language-plaintext highlighter-rouge">http://localhost/</code> ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚
å¤–ã®ä¸–ç•Œã‹ã‚‰ä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã¨ã—ã¦ã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ï¼ˆ<a href="bridged-network.html">ãƒ–ãƒªãƒƒã‚¸ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ§‹æˆã™ã‚‹æ–¹æ³•</a>ã‚‚ã‚ã‚Šã¾ã™ï¼‰ã€‚</p>

<p>ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã§ã¯ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã®ã‚ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã‚’ã€ç‰¹å®šã®ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒãƒ¼ãƒˆç•ªå·ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã™ã€‚
ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã®ç‰¹å®šã®ãƒãƒ¼ãƒˆç•ªå·ã«ã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ã£ãŸã¨ãã«ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ãŒä»®æƒ³ãƒã‚·ãƒ³ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è»¢é€ã™ã‚‹ã“ã¨ã§ã€é–“æ¥çš„ã«ä»®æƒ³ãƒã‚·ãƒ³ã¸æ¥ç¶šã•ã‚Œã¾ã™ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LAN ä¸Šã®ãƒã‚·ãƒ³ ----[port:10080]----&gt; ãƒ›ã‚¹ãƒˆ ----[port:80]----&gt; ä»®æƒ³ãƒã‚·ãƒ³
</code></pre></div></div>

<p>ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã‚’åˆ©ç”¨ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã§ã¯ã€æ—¢å­˜ã®ç‰©ç† LAN ä¸Šã®åˆ¥ã®ãƒã‚·ãƒ³ã‹ã‚‰ã¯ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã—ã‹è¦‹ãˆã¾ã›ã‚“ã€‚
ä»®æƒ³ãƒã‚·ãƒ³ã®å­˜åœ¨ã¯éš è”½ã•ã‚Œã¦ãŠã‚Šã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã§ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã‹ã®ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚</p>

<h2 id="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’è¡Œã†">ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’è¡Œã†</h2>

<p><code class="language-plaintext highlighter-rouge">Vagrantfile</code> ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã§ã€<code class="language-plaintext highlighter-rouge">config.vm.network</code> ã« <strong>forwarded_port</strong> ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ä¸‹è¨˜ã¯ã€ä»®æƒ³ãƒã‚·ãƒ³å†…ã® HTTP (80) ã¨ HTTPS (443) ã®ãƒãƒ¼ãƒˆã‚’ã€ãƒ›ã‚¹ãƒˆå´ã®ãƒãƒ¼ãƒˆ 10080 ã¨ 10443 ã«ãã‚Œãã‚Œãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ä¾‹ã§ã™ã€‚</p>

<h4 id="vagrantfile">Vagrantfile</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"hashicorp/precise64"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">80</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">10080</span>   <span class="c1"># HTTP</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">443</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">10443</span>  <span class="c1"># HTTPS</span>
<span class="k">end</span>
</code></pre></div></div>

<p>è¨­å®šã‚’å¤‰æ›´ã—ãŸã‚‰ã€ä»®æƒ³ãƒã‚·ãƒ³ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦åæ˜ ã•ã›ã¾ã™ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vagrant reload
...
==&gt; default: Forwarding ports...
    default: 80 (guest) =&gt; 10080 (host) (adapter 1)
    default: 443 (guest) =&gt; 10443 (host) (adapter 1)
    default: 22 (guest) =&gt; 2222 (host) (adapter 1)
...
</code></pre></div></div>

<p>ã“ã‚Œã§ã€Web ãƒ–ãƒ©ã‚¦ã‚¶ãªã©ã‹ã‚‰ <code class="language-plaintext highlighter-rouge">http://localhost:10080/</code> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«ã€ä»®æƒ³ãƒã‚·ãƒ³å†…ã® Web ã‚µãƒ¼ãƒã® 80 ãƒãƒ¼ãƒˆã«ç¹‹ãŒã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ˆã‚‚ã¡ã‚ã‚“ã€ä»®æƒ³ãƒã‚·ãƒ³å´ã§ nginx ãªã©ã® Web ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚</p>

<h2 id="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’ç¢ºèªã™ã‚‹">ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’ç¢ºèªã™ã‚‹</h2>

<p>ç¾åœ¨å‹•ä½œã—ã¦ã„ã‚‹ä»®æƒ³ãƒã‚·ãƒ³ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®šã¯ <code class="language-plaintext highlighter-rouge">vagrant port</code> ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vagrant port
The forwarded ports for the machine are listed below. Please note that
these values may differ from values configured in the Vagrantfile if the
provider supports automatic port collision detection and resolution.

    22 (guest) =&gt; 2222 (host)
    80 (guest) =&gt; 10080 (host)
   443 (guest) =&gt; 10443 (host)
</code></pre></div></div>

<p>ãƒãƒ¼ãƒˆç•ªå· 22 (SSH) ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ›ã‚¹ãƒˆå´ã®ãƒãƒ¼ãƒˆ 2222 ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¦ã„ã¾ã™ï¼ˆã“ã‚Œã«ã‚ˆã£ã¦ <code class="language-plaintext highlighter-rouge">ssh vagrant@127.0.0.1 -p 2222</code> ã¨ã„ã†æ¥ç¶šãŒå¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ï¼‰ã€‚</p>

<h2 id="udp-ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰">UDP ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰</h2>

<p><code class="language-plaintext highlighter-rouge">config.vm.network "forwarded_port"</code> ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šã§ã¯ã€TCP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®šã—ã‹è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚
UDP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒ‘ã‚±ãƒƒãƒˆã‚‚ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã—ãŸã„å ´åˆã¯ã€æ˜ç¤ºçš„ã« <code class="language-plaintext highlighter-rouge">protocol: "udp"</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

<h4 id="vagrantfile-1">Vagrantfile</h4>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"hashicorp/precise64"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">2003</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">12003</span><span class="p">,</span> <span class="ss">protocol: </span><span class="s2">"tcp"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">2003</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">12003</span><span class="p">,</span> <span class="ss">protocol: </span><span class="s2">"udp"</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="ãƒãƒ¼ãƒˆç•ªå·ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è‡ªå‹•è§£æ±º">ãƒãƒ¼ãƒˆç•ªå·ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è‡ªå‹•è§£æ±º</h2>

<p>ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚’è¡Œã£ã¦ Vagrant ã®ä»®æƒ³ãƒã‚·ãƒ³ã‚’ç«‹ã¡ä¸Šã’ã‚ˆã†ã¨ã—ãŸã¨ãã«ã€ãƒ›ã‚¹ãƒˆå´ã®ãƒãƒ¼ãƒˆç•ªå·ãŒã™ã§ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¦ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸå ´åˆã€ä»®æƒ³ãƒã‚·ãƒ³ã®ç«‹ã¡ä¸Šã’ã¯å¤±æ•—ã—ã¾ã™ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vagrant reload
...
Vagrant cannot forward the specified ports on this VM, since they
would collide with some other application that is already listening
on these ports. The forwarded port to 8080 is already in use
on the host machine.
...
</code></pre></div></div>

<p>ä¸‹è¨˜ã®ã‚ˆã†ã«ã€<strong>auto_correct</strong> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¦ãŠãã¨ã€ãƒãƒ¼ãƒˆç•ªå·ãŒã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ãŸå ´åˆã«ã€ãƒ›ã‚¹ãƒˆå´ã§ç©ºã„ã¦ã„ã‚‹ãƒãƒ¼ãƒˆã‚’æ¢ã—ã¦è‡ªå‹•çš„ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

<h4 id="vagrantfile-2">Vagrantfile</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"hashicorp/precise64"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">80</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">8080</span><span class="p">,</span> <span class="ss">auto_correct: </span><span class="kp">true</span>
<span class="k">end</span>
</code></pre></div></div>

<p>ä»®æƒ³ãƒã‚·ãƒ³ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã¨ã€è‡ªå‹•çš„ã«ãƒãƒ¼ãƒˆç•ªå·ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vagrant up
==&gt; default: Checking if box 'hashicorp/precise64' is up to date...
==&gt; default: Fixed port collision for 80 =&gt; 8080. Now on port 2200.
==&gt; default: Clearing any previously set network interfaces...
==&gt; default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==&gt; default: Forwarding ports...
    default: 80 (guest) =&gt; 2200 (host) (adapter 1)
    default: 22 (guest) =&gt; 2222 (host) (adapter 1)
...
</code></pre></div></div>

<p>ã“ã“ã§ã¯ã€ãƒ›ã‚¹ãƒˆå´ã®ãƒãƒ¼ãƒˆ 8080 ãŒé–‹ã„ã¦ã„ãªã‹ã£ãŸãŸã‚ã€è‡ªå‹•çš„ã« 2200 ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã®è‡ªå‹•å‰²ã‚Šå½“ã¦ã®ç¯„å›²ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 2200 ã‹ã‚‰ 2250 ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ã«èª¿æ•´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">usable_port_range</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10000</span><span class="o">..</span><span class="mi">10050</span><span class="p">)</span>
</code></pre></div></div>


      </div>

      <!-- Ad (æ¥½å¤©) -->
      
        <div class="xWidget"><!-- Rakuten Widget FROM HERE -->
<script>
  /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã©ã */
  var SIDEBAR_HIDE_THRESHOLD = 800;
  var SIDEBAR_WIDTH = 250;
  var OFFSET = 10;
  var w = window.innerWidth;
  if (w >= SIDEBAR_HIDE_THRESHOLD) {
    w -= SIDEBAR_WIDTH;
  }
  w -= OFFSET;

  if (w >= 728) {
    rakuten_size="728x200";
  } else if (w >= 600) {
    rakuten_size="600x200";
  } else if (w >= 468) {
    rakuten_size="468x160";
  } else if (w >= 336) {
    rakuten_size="336x280";
  } else if (w >= 300) {
    rakuten_size="300x250";
  } else if (w >= 250) {
    rakuten_size="250x250";
  } else {
    rakuten_size="200x350";
  }

  rakuten_design="slide";
  rakuten_affiliateId="1239b074.74af6526.1239b075.bc72ef6e";
  rakuten_items="ctsmatch";
  rakuten_genreId=0;
  rakuten_target="_blank";
  rakuten_theme="gray";
  rakuten_border="off";
  rakuten_auto_mode="on";
  rakuten_genre_title="off";
  rakuten_recommend="on";
  rakuten_txtColor="333333";
  rakuten_moverColor="30C030";
  rakuten_bgColor="FFFFFF";
  rakuten_captionColor="333333";
</script>
<script src="https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js"></script>
<!-- Rakuten Widget TO HERE -->

</div>
      

      <!-- SNS ãƒœã‚¿ãƒ³ï¼ˆä¸‹ï¼‰ -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">




<ul class="xSnsButtons">
  <!-- Twitter -->
  <li class="xSnsButtons_twitter">
    <a rel="nofollow" href="https://twitter.com/share?text=ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆï¼š ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚Šä»®æƒ³ãƒã‚·ãƒ³å†…ã®ã‚µãƒ¼ãƒã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹&url=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'tweet_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-twitter"></i><span class="xSnsButtons_label">ãƒ„ã‚¤ãƒ¼ãƒˆ</span>
    </a>
  </li>

  <!-- Facebook -->
  <li class="xSnsButtons_facebook">
    <a rel="nofollow" href="https://www.facebook.com/share.php?u=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'facebook_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-facebook-square"></i><span class="xSnsButtons_label">ã‚·ã‚§ã‚¢</span>
    </a>
  </li>

  <!-- Pocket -->
  <li class="xSnsButtons_pocket">
    <a rel="nofollow" href="https://getpocket.com/edit?url=https://maku77.github.io/vagrant/port-forward.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'pocket_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-get-pocket"></i><span class="xSnsButtons_label">Pocket</span>
    </a>
  </li>
</ul>



      
      <div class="xArticle_up">
        <a href="/vagrant/"><span class="xArticle_up_label">ã¾ãã¾ãVagrantãƒãƒ¼ãƒˆ</span><br>ã¸æˆ»ã‚‹</a>
      </div>

    </div>

    <div id="xContainer_sidebar"><style>
.local-logo {
  position: relative;
  border: none;
  background: none;
}
.local-logo img {
  width: 100%;
  vertical-align: bottom;
  border: none;
  border-radius: 15px;
}
.local-logo figcaption {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  text-align: center;
  font-size: 12pt;
  color: white;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 15px 15px 0 0;
}
</style>

<div id="xContainer_sidebar_notFixed">
  <div data-sticky><nav class="xNav">
  <div class="xNav_header">ã‚«ãƒ†ã‚´ãƒªä¸€è¦§</div>
  <ul>
        <li><a href="/memo/">ã„ã‚ã„ã‚</a>
        <li><a href="/android/">Android</a>
        <li><a href="/ansible/">Ansible</a>
        <li><a href="/blender/">Blender</a>
        <li><a href="/cpp/">C/C++</a>
        <li><a href="/docker/">Docker</a>
        <li><a href="/git/">Git</a>
        <li><a href="/go/">Goè¨€èª</a>
        <li><a href="/gradle/">Gradle</a>
        <li><a href="/web/">HTML/CSS</a>
        <li><a href="/hugo/">Hugo</a>
        <li><a href="/java/">Java</a>
        <li><a href="/js/">JavaScript</a>
        <li><a href="/kotlin/">Kotlin</a>
        <li><a href="/linux/">Linux/Shell</a>
        <li><a href="/mac/">Mac</a>
        <li><a href="/middleman/">Middleman</a>
        <li><a href="/nodejs/">Node.js</a>
        <li><a href="/octave/">Octave</a>
        <li><a href="/p4/">Perforce</a>
        <li><a href="/perl/">Perl</a>
        <li><a href="/php/">PHP</a>
        <li><a href="/python/">Python</a>
        <li><a href="/r/">R</a>
        <li><a href="/ruby/">Ruby</a>
        <li><a href="/rust/">Rust</a>
        <li><a href="/sass/">Sass</a>
        <li><a href="/sed/">sed/awk</a>
        <li><a href="/sql/">SQL</a>
        <li><a href="/tradestation/">ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</a>
        <li class="xNav-focused"><a href="/vagrant/">Vagrant</a>
        <li><a href="/vba/">VBA</a>
        <li><a href="/vim/">Vim</a>
        <li><a href="/windows/">Windows</a>
  </ul>
</nav>

</div>

  
    <div data-sticky class="xContainer_sidebar_ad">
      <div style="text-align: right">
  <div id="codoc-entry-4gYwTntzzw" class="codoc-entries" data-without-body="1" data-support-button-text="ï¼ˆã£&#039;-&#039;)â•®ã‚·ãƒ¥ãƒƒ=ÍŸÍŸÍÍ ğŸ’µ" data-show-like="0" data-show-about-codoc="0" data-show-powered-by="0" data-support-message="ã¾ãã«æŠ•ã’éŠ­ã§ãã¾ã™ã€‚"></div>
</div>

    </div>
    <div data-sticky class="xContainer_sidebar_ad">
      
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ã¾ããƒãƒ¼ãƒˆ_ã‚µã‚¤ãƒ‰çŸ©å½¢ (200x200) -->
<ins class="adsbygoogle"
     style="display:inline-block;width:200px;height:200px"
     data-ad-client="ca-pub-6317852277883092"
     data-ad-slot="4284289561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


    </div>
    <div data-sticky class="xContainer_sidebar_ad">
      <!-- /22026661446/maku77-sidebar -->
<div id='div-gpt-ad-1590069504630-0' style='width: 200px; height: 200px;'>
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1590069504630-0'); });
  </script>
</div>

    </div>
  

  <div data-sticky class="xContainer_sidebar_ad">
    <a href="/">
      <figure class="local-logo">
        <img src="/assets/img/kuma_inu.jpg">
        <figcaption>å¤©æ‰ã¾ãã¾ããƒãƒ¼ãƒˆ</figcaption>
      </figure>
    </a>
  </div>

  <div data-sticky><form action="https://www.google.co.jp/cse" id="cse-search-box">
  <div class="xSearchBar">
    <input type="hidden" name="cx" value="partner-pub-6317852277883092:5930376365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input class="xSearchBar_text" type="search" name="q" placeholder="ãƒãƒ¼ãƒˆã‚’æ¤œç´¢ã§ãã¾ã™â€¦" size="55" results="5" autocomplete="off" /><input class="xSearchBar_button" type="submit" name="sa" value="&#128269; æ¤œç´¢ " />
  </div>
</form>

</div>
</div>
<div id="xContainer_sidebar_fixed"></div>

</div>
  </div>

  <!-- <div class="xPageFooter"> -->
    

<div class="xBreadCrumbContainer">
  <div class="xBreadCrumb"><a href="/">&#x1F3E0;HOME</a> &gt; <a href="/vagrant/">Vagrant</a></div>
  <div class="xPageDate">2016-10-24</div>
</div>

  <!-- </div> -->
</div>

  <!-- MathJax -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/assets/js/fix-sidebar.js"></script>

<!-- maku-common.js -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const content = document.querySelectorAll('.xContent');

  content.forEach(function(item) {
    // å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚’å¿…ãšæ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã
    const externalLinks = item.querySelectorAll('a[href^="http"]');
    externalLinks.forEach(function(link) {
      link.setAttribute('target', '_blank');
      link.setAttribute('rel', 'noopener');
    });

    // å¤–éƒ¨ãƒªãƒ³ã‚¯ã«ã‚¯ãƒ©ã‚¹å±æ€§ã‚’ä»˜åŠ ã™ã‚‹
    const nonImageExternalLinks = item.querySelectorAll('a[href^="http"]:not(:has(img))');
    nonImageExternalLinks.forEach(function(link) {
      link.classList.add('xExternalLinkIcon');
    });
  });
});
</script>

</body>
</html>

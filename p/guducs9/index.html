<!doctype html><html lang=ja-jp><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Python で XML をパースする (minidom) - まくまく Python ノート</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-X5962TDYXS"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X5962TDYXS")</script><link rel=icon sizes="16x16 32x32 48x48 64x64" href=../../assets/img/favicon/favicon.ico><link rel=icon sizes=192x192 href=../../assets/img/favicon/192x192.png><link rel=apple-touch-icon href=../../assets/img/favicon/180x180.png><meta property="og:site_name" content="天才まくまくノート"><meta property="og:title" content="Python で XML をパースする (minidom)"><meta property="og:type" content="website"><meta property="og:url" content="https://maku77.github.io/p/guducs9/"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://maku77.github.io/img/site-logo.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:description" content="Python 2.0 以降では、Document Object Model インタフェース (DOM API) の最小の実装として、xml.dom.minidom が搭載されています。 DOM 標準の API を使って操作する必要のない場合は、よりシンプルなインターフェースを提供している ElementTree モジュールを使用する のがよいでしょう。
Document オブジェクトを取得する minidom を使用して、XML の各要素にアクセスするためには、まずは DOM 全体を表現する xml.dom.minidom.Document オブジェクトを取得する必要があります。 データソースとしては、XML ファイル、XML 文字列、Web 上のリソースなどを利用できます。
XML ファイルを扱う場合 from xml.dom import minidom doc = minidom.parse(&#34;input.xml&#34;) print(doc.toxml()) XML 文字列を扱う場合 from xml.dom import minidom xml = &#34;&#34;&#34; <tree> <branch> <leaf id='1'>Leaf 1</leaf> <leaf id='2'>Leaf 2</leaf> <leaf id='3'>Leaf 3</leaf> </branch> </tree>&#34;&#34;&#34; doc = minidom.parseString(xml) print(doc.toxml()) Web 上の XML リソースを扱う場合 urllib モジュールを組み合わせて使えば、Web 上の XML も簡単にパースできます。"><meta property="fb:app_id" content="447708168769292"><link rel=stylesheet href=../../css/mm/all.min.e24c66b636a90ef91911e8a754364b4f018776b87620a5bff34272c1264fb94d.css><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6317852277883092" crossorigin=anonymous></script>
<link rel=stylesheet href=../../css/all.min.13f0b28ea5ecd0bb813e7143882eab74f7621eb7644e322bf58a4b49b3edb6bb.css></head><body><div class=l-pageHeader><header class=header><a href=../../python/><img class=header__icon src=../../python/_index.svg></a><div class=header__right><div class=header__category><a href=../../python/>まくまく Python ノート</a></div><div class=header__title>Python で XML をパースする (minidom)</div></div></header></div><div class=l-withSidebar><div class=l-withSidebar__sidebarLeft><style>#tocStub{position:-webkit-sticky;position:sticky;top:2rem;margin-top:2rem;line-height:1.5;max-height:calc(100vh - 4rem);overflow-y:auto;-webkit-overflow-scrolling:touch}#tocStub ul{font-size:.9em;list-style:none;padding:0;border-top:solid 1px #ccc}#tocStub li{border:solid 1px #ccc;border-right:none;margin-top:-1px}#tocStub a{color:#666;padding:.6em .3em .6em .5em;display:block;text-decoration:none;font-weight:400}.level-2{margin-left:.8em}.level-3{padding-left:1.6em}</style><div id=tocStub></div><script>document.addEventListener("DOMContentLoaded",()=>{function e(e){const t=document.createElement("a");return t.setAttribute("id",e),t}function t(t,n){n.parentNode.insertBefore(e(t),n)}function n(e,t,n){const s=document.createElement("li");return s.classList.add("level-"+e),s.innerHTML='<a href="#'+t+'">'+n+"</a>",s}function s(){const e=document.createElement("ul");return document.querySelectorAll("h2, h3").forEach((s,o)=>{const i="section-"+o;t(i,s);const a=s.tagName.charAt(1)-1;e.appendChild(n(a,i,s.textContent))}),e}document.getElementById("tocStub").appendChild(s())})</script></div><div class=l-withSidebar__content><article class=article itemscope itemtype=https://schema.org/BlogPosting><div class=article__header><div class=breadcrumb><a href=../../>&#x1F3E0;HOME</a> > <a href=../../python/>まくまく Python ノート</a></div><div class=article__snsButtons><div class=snsButtons><a rel=nofollow target=_blank href="https://twitter.com/share?url=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&text=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--twitter"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></span></a><a rel=nofollow target=_blank href="https://www.facebook.com/share.php?u=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&t=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--facebook"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></span></a><a rel=nofollow target=_blank href="https://getpocket.com/edit?url=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&title=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--pocket"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pocket"><path d="M4 3h16a2 2 0 012 2v6A10 10 0 0112 21 10 10 0 012 11V5a2 2 0 012-2z"/><polyline points="8 10 12 14 16 10"/></svg></span></a></div></div><div class=article__date><time class=pageDate>2012-06-04</time></div></div><div class=article__body><p>Python 2.0 以降では、Document Object Model インタフェース (DOM API) の最小の実装として、<a href=https://docs.python.org/3/library/xml.dom.minidom.html>xml.dom.minidom</a> が搭載されています。
DOM 標準の API を使って操作する必要のない場合は、よりシンプルなインターフェースを提供している <a href=../../p/cp9q7n5/>ElementTree モジュールを使用する</a> のがよいでしょう。</p><h2 id=document-オブジェクトを取得する>Document オブジェクトを取得する</h2><p>minidom を使用して、XML の各要素にアクセスするためには、まずは DOM 全体を表現する <strong><code>xml.dom.minidom.Document</code></strong> オブジェクトを取得する必要があります。
データソースとしては、XML ファイル、XML 文字列、Web 上のリソースなどを利用できます。</p><h3 id=xml-ファイルを扱う場合>XML ファイルを扱う場合</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=s2>&#34;input.xml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span>
</span></span></code></pre></div><h3 id=xml-文字列を扱う場合>XML 文字列を扱う場合</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>xml</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>&lt;tree&gt;
</span></span></span><span class=line><span class=cl><span class=s2>  &lt;branch&gt;
</span></span></span><span class=line><span class=cl><span class=s2>    &lt;leaf id=&#39;1&#39;&gt;Leaf 1&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s2>    &lt;leaf id=&#39;2&#39;&gt;Leaf 2&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s2>    &lt;leaf id=&#39;3&#39;&gt;Leaf 3&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s2>  &lt;/branch&gt;
</span></span></span><span class=line><span class=cl><span class=s2>&lt;/tree&gt;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=n>xml</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span>
</span></span></code></pre></div><h3 id=web-上の-xml-リソースを扱う場合>Web 上の XML リソースを扱う場合</h3><p><strong><code>urllib</code></strong> モジュールを組み合わせて使えば、Web 上の XML も簡単にパースできます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib.request</span> <span class=kn>import</span> <span class=n>urlopen</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>urlopen</span><span class=p>(</span><span class=s2>&#34;https://example.com/test.xml&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>res</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>res</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span>
</span></span></code></pre></div><h2 id=dom-リソースの解放>DOM リソースの解放</h2><p>使用し終わった <code>Document</code> オブジェクトは、ガーベジ・コレクションによって自動的に解放されますが、<strong><code>unlink</code></strong> メソッドで明示的に解放することもできます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>dom</span><span class=o>.</span><span class=n>unlink</span><span class=p>()</span>
</span></span></code></pre></div><p><code>Document</code> オブジェクトを生成するときに <strong><code>with</code></strong> 構文を使用すれば、<code>unlink</code> 処理を自動化することができます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=s2>&#34;input.xml&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>doc</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span>
</span></span></code></pre></div><h2 id=タグ名を指定して要素を取得する-getelementsbytagname>タグ名を指定して要素を取得する (getElementsByTagName)</h2><p><strong><code>Document#getElementsByTagName</code></strong> メソッドを使うと、指定したタグ名の要素のリスト（<code>NodeList</code> オブジェクト）を取得することができます。
子ノードを再帰的に検索するので、同じタグ名を持つ要素はすべてリストに含まれます。
ノードが見つからない場合は、<code>None</code> が返されます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>books</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;book&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>上記の例では、<code>Document</code> オブジェクトの <code>getElementsByTagName</code> メソッドを呼び出しているので、全てのノードが検索対象になりますが、特定のノード (<code>Element</code>) の <code>getElementsByTagName</code> メソッドを呼び出すと、そのノード以下のノードのみが検索対象となります。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>authors</span> <span class=o>=</span> <span class=n>books</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;author&#34;</span><span class=p>)</span>
</span></span></code></pre></div><figure class=codeBlock><figcaption class=codeBlock__title>sample.py（サンプルコード）</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>xml</span> <span class=o>=</span> <span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>&lt;tree&gt;
</span></span></span><span class=line><span class=cl><span class=s1>  &lt;branch&gt;
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;leaf id=&#39;1&#39;&gt;Leaf 1&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;leaf id=&#39;2&#39;&gt;Leaf 2&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;leaf id=&#39;3&#39;&gt;Leaf 3&lt;/leaf&gt;
</span></span></span><span class=line><span class=cl><span class=s1>  &lt;/branch&gt;
</span></span></span><span class=line><span class=cl><span class=s1>&lt;/tree&gt;&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=n>xml</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>elems</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;leaf&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>elems</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=n>e</span><span class=o>.</span><span class=n>attributes</span><span class=p>[</span><span class=s2>&#34;id&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>value</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=n>e</span><span class=o>.</span><span class=n>firstChild</span><span class=o>.</span><span class=n>data</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=gp>$</span> python3 sample.py
</span></span><span class=line><span class=cl><span class=go>1
</span></span></span><span class=line><span class=cl><span class=go>Leaf 1
</span></span></span><span class=line><span class=cl><span class=go>2
</span></span></span><span class=line><span class=cl><span class=go>Leaf 2
</span></span></span><span class=line><span class=cl><span class=go>3
</span></span></span><span class=line><span class=cl><span class=go>Leaf 3
</span></span></span></code></pre></div></div></figure><h2 id=テキストノードの値を取得する>テキストノードの値を取得する</h2><figure class=codeBlock><figcaption class=codeBlock__title>diary.xml</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;diary&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;entry&gt;</span>ほげほげ<span class=nt>&lt;empty/&gt;</span>ぽにょぽにょ<span class=nt>&lt;/entry&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/diary&gt;</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>sample.py</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>getText</span><span class=p>(</span><span class=n>nodeList</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>nodeList</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>nodeType</span> <span class=o>==</span> <span class=n>node</span><span class=o>.</span><span class=n>TEXT_NODE</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>text</span> <span class=o>+=</span> <span class=n>node</span><span class=o>.</span><span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>text</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=s2>&#34;sample.xml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nodeList</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;entry&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>getText</span><span class=p>(</span><span class=n>nodeList</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>childNodes</span><span class=p>))</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>ほげほげぽにょぽにょ</span></span></code></pre></div></div></figure><h2 id=属性値を取得する>属性値を取得する</h2><figure class=codeBlock><figcaption class=codeBlock__title>sample.py</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=s1>&#39;&lt;books&gt;&lt;book id=&#34;001&#34;/&gt;&lt;/books&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>elem</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;book&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class="line hl"><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>elem</span><span class=o>.</span><span class=n>getAttributeNode</span><span class=p>(</span><span class=s2>&#34;id&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>nodeValue</span><span class=p>)</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>001</span></span></code></pre></div></div></figure><h2 id=ノードの子ノードを全て取得する>ノードの子ノードを全て取得する</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>childNodes</span> <span class=o>=</span> <span class=n>node</span><span class=o>.</span><span class=n>childNodes</span>
</span></span></code></pre></div><h2 id=ノード名要素名を取得する>ノード名（要素名）を取得する</h2><figure class=codeBlock><figcaption class=codeBlock__title>sample.py</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=s1>&#39;&lt;books&gt;&lt;book&gt;&lt;author&gt;AAA&lt;/author&gt;&lt;/book&gt;&lt;/books&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>elem</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s1>&#39;book&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class="line hl"><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>elem</span><span class=o>.</span><span class=n>nodeName</span><span class=p>)</span>  <span class=c1># =&gt; &#34;book&#34;</span></span></span></code></pre></div></div></figure><h2 id=指定した要素をループで処理する>指定した要素をループで処理する</h2><p>次の例では、<code>book</code> というタグ名の要素をすべて取得してループ処理しています。</p><figure class=codeBlock><figcaption class=codeBlock__title>books.xml</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;books&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;book</span> <span class=na>id=</span><span class=s>&#34;100&#34;</span><span class=nt>&gt;</span>Book name1<span class=nt>&lt;/book&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;book</span> <span class=na>id=</span><span class=s>&#34;200&#34;</span><span class=nt>&gt;</span>Book name2<span class=nt>&lt;/book&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;book</span> <span class=na>id=</span><span class=s>&#34;300&#34;</span><span class=nt>&gt;</span>Book name3<span class=nt>&lt;/book&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/books&gt;</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>sample.py</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom.minidom</span> <span class=kn>import</span> <span class=n>parse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Parse a xml file.</span>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>parse</span><span class=p>(</span><span class=s2>&#34;books.xml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get all book nodes</span>
</span></span><span class=line><span class=cl><span class=n>nodeList</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;book&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show text data.</span>
</span></span><span class="line hl"><span class=cl><span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>nodeList</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s2>&#34;Book ID =&#34;</span><span class=p>,</span> <span class=n>node</span><span class=o>.</span><span class=n>getAttributeNode</span><span class=p>(</span><span class=s2>&#34;id&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>nodeValue</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s2>&#34;Book Name =&#34;</span><span class=p>,</span> <span class=n>node</span><span class=o>.</span><span class=n>childNodes</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>data</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>Book ID = 100
</span></span><span class=line><span class=cl>Book Name = Book name1
</span></span><span class=line><span class=cl>Book ID = 200
</span></span><span class=line><span class=cl>Book Name = Book name2
</span></span><span class=line><span class=cl>Book ID = 300
</span></span><span class=line><span class=cl>Book Name = Book name3</span></span></code></pre></div></div></figure><h2 id=子ノードをループで処理する>子ノードをループで処理する</h2><p>次の例では、<code>books</code> 以下の複数の子ノード (<code>book</code>) をループ処理しています。</p><figure class=codeBlock><figcaption class=codeBlock__title>books.xml</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;books&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;book&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;name&gt;</span>Book name1<span class=nt>&lt;/name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>Author 1<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>Author 2<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>Author 3<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/book&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;book&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;name&gt;</span>Book name2<span class=nt>&lt;/name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>Author 1<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>Author 2<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/book&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/books&gt;</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>sample.py</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom.minidom</span> <span class=kn>import</span> <span class=n>parse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Parse a xml file.</span>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>parse</span><span class=p>(</span><span class=s2>&#34;books.xml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Get all book nodes</span>
</span></span><span class=line><span class=cl><span class=n>nodeList</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;book&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Process book nodes</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>nodeList</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Process book&#39;s child nodes</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>for</span> <span class=n>child</span> <span class=ow>in</span> <span class=n>node</span><span class=o>.</span><span class=n>childNodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>child</span><span class=o>.</span><span class=n>nodeName</span> <span class=o>==</span> <span class=s2>&#34;name&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span> <span class=s2>&#34;Book name:&#34;</span><span class=p>,</span> <span class=n>child</span><span class=o>.</span><span class=n>childNodes</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>data</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>child</span><span class=o>.</span><span class=n>nodeName</span> <span class=o>==</span> <span class=s2>&#34;author&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span> <span class=s2>&#34;Author:&#34;</span><span class=p>,</span> <span class=n>child</span><span class=o>.</span><span class=n>childNodes</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>data</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>Book name: Book name1
</span></span><span class=line><span class=cl>Author: Author 1
</span></span><span class=line><span class=cl>Author: Author 2
</span></span><span class=line><span class=cl>Author: Author 3
</span></span><span class=line><span class=cl>Book name: Book name2
</span></span><span class=line><span class=cl>Author: Author 1</span></span></code></pre></div></div></figure><h2 id=ノードがテキストノードが調べる>ノードがテキストノードが調べる</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>node</span><span class=o>.</span><span class=n>nodeType</span> <span class=o>==</span> <span class=n>node</span><span class=o>.</span><span class=n>TEXT_NODE</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span> <span class=s2>&#34;This is a text node&#34;</span>
</span></span></code></pre></div><h2 id=ノードに属性を追加する属性の値を変更する>ノードに属性を追加する／属性の値を変更する</h2><p><code>Element</code> オブジェクトの <strong><code>setAttribute(self, attname, value)</code></strong> メソッドを使用して、任意のノードの属性を設定することができます。</p><figure class=codeBlock><figcaption class=codeBlock__title>id 属性の値を変更する</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=s1>&#39;&lt;books&gt;&lt;book id=&#34;old&#34;/&gt;&lt;/books&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nodeList</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s1>&#39;book&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl><span class=n>nodeList</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;002&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; ?&gt;</span><span class=nt>&lt;books&gt;&lt;book</span> <span class=na>id=</span><span class=s>&#34;new&#34;</span><span class=nt>/&gt;&lt;/books&gt;</span></span></span></code></pre></div></div></figure><h2 id=テキストノードの値を変更する>テキストノードの値を変更する</h2><p><code>Element</code> オブジェクトの <strong><code>nodeValue</code></strong> 属性の値を設定することで、テキストノードの値を変更することができます。</p><figure class=codeBlock><figcaption class=codeBlock__title>テキストノードの値を変更する</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>xml.dom</span> <span class=kn>import</span> <span class=n>minidom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>doc</span> <span class=o>=</span> <span class=n>minidom</span><span class=o>.</span><span class=n>parseString</span><span class=p>(</span><span class=s1>&#39;&lt;book&gt;Old text&lt;/book&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nodeList</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>getElementsByTagName</span><span class=p>(</span><span class=s1>&#39;book&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>bookNode</span> <span class=o>=</span> <span class=n>nodeList</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class="line hl"><span class=cl><span class=n>bookNode</span><span class=o>.</span><span class=n>childNodes</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>nodeValue</span> <span class=o>=</span> <span class=s1>&#39;New text&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>doc</span><span class=o>.</span><span class=n>toxml</span><span class=p>())</span></span></span></code></pre></div></div></figure><figure class=codeBlock><figcaption class=codeBlock__title>実行結果</figcaption><div class=codeBlock__code><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; ?&gt;</span><span class=nt>&lt;book&gt;</span>New text<span class=nt>&lt;/book&gt;</span></span></span></code></pre></div></div></figure></div><div class=article__footer><div class=article__date><time class=pageDate>2012-06-04</time></div><div class=article__snsButtons><div class=snsButtons><a rel=nofollow target=_blank href="https://twitter.com/share?url=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&text=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--twitter"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></span></a><a rel=nofollow target=_blank href="https://www.facebook.com/share.php?u=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&t=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--facebook"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></span></a><a rel=nofollow target=_blank href="https://getpocket.com/edit?url=https%3a%2f%2fmaku77.github.io%2fp%2fguducs9%2f&title=Python%20%e3%81%a7%20XML%20%e3%82%92%e3%83%91%e3%83%bc%e3%82%b9%e3%81%99%e3%82%8b%20%28minidom%29%20-%20%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%20Python%20%e3%83%8e%e3%83%bc%e3%83%88"><span class="snsButtons__icon snsButtons__icon--pocket"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pocket"><path d="M4 3h16a2 2 0 012 2v6A10 10 0 0112 21 10 10 0 012 11V5a2 2 0 012-2z"/><polyline points="8 10 12 14 16 10"/></svg></span></a></div></div><div class=breadcrumb><a href=../../>&#x1F3E0;HOME</a> > <a href=../../python/>まくまく Python ノート</a></div></div></article><script>var SIDEBAR_HIDE_THRESHOLD=800,SIDEBAR_WIDTH=250,OFFSET=10,w=window.innerWidth;w>=SIDEBAR_HIDE_THRESHOLD&&(w-=SIDEBAR_WIDTH),w-=OFFSET,w>=728?rakuten_size="728x200":w>=600?rakuten_size="600x200":w>=468?rakuten_size="468x160":w>=336?rakuten_size="336x280":w>=300?rakuten_size="300x250":w>=250?rakuten_size="250x250":rakuten_size="200x350",rakuten_design="slide",rakuten_affiliateId="1239b074.74af6526.1239b075.bc72ef6e",rakuten_items="ctsmatch",rakuten_genreId=0,rakuten_target="_blank",rakuten_theme="gray",rakuten_border="off",rakuten_auto_mode="on",rakuten_genre_title="off",rakuten_recommend="on",rakuten_txtColor="333333",rakuten_moverColor="30C030",rakuten_bgColor="FFFFFF",rakuten_captionColor="333333"</script><script src=https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js></script></div><div class=l-withSidebar__sidebarRight><nav class=navigation><div class=navigation__header>カテゴリ一覧</div><ul><li><a class=navigation__item href=https://maku77.github.io/memo/>いろいろ</a><li><a class=navigation__item href=https://maku77.github.io/android/>Android</a><li><a class=navigation__item href=https://maku.blog/p/8t6hr3d/>Ansible</a><li><a class=navigation__item href=https://maku77.github.io/blender/>Blender</a><li><a class=navigation__item href=https://maku77.github.io/cpp/>C/C++</a><li><a class=navigation__item href=https://maku77.github.io/docker/>Docker</a><li><a class=navigation__item href=https://maku77.github.io/git/>Git</a><li><a class=navigation__item href=https://maku77.github.io/go/>Go言語</a><li><a class=navigation__item href=https://maku77.github.io/gradle/>Gradle</a><li><a class=navigation__item href=https://maku77.github.io/web/>HTML/CSS</a><li><a class=navigation__item href=https://maku77.github.io/hugo/>Hugo</a><li><a class=navigation__item href=https://maku77.github.io/java/>Java</a><li><a class=navigation__item href=https://maku77.github.io/js/>JavaScript</a><li><a class=navigation__item href=https://maku77.github.io/kotlin/>Kotlin</a><li><a class=navigation__item href=https://maku77.github.io/linux/>Linux/Shell</a><li><a class=navigation__item href=https://maku77.github.io/mac/>Mac</a><li><a class=navigation__item href=https://maku77.github.io/middleman/>Middleman</a><li><a class=navigation__item href=https://toushi.maku.blog/p/etedykx/>MetaTrader</a><li><a class=navigation__item href=https://maku77.github.io/nodejs/>Node.js</a><li><a class=navigation__item href=https://maku77.github.io/octave/>Octave</a><li><a class=navigation__item href=https://maku77.github.io/p4/>Perforce</a><li><a class=navigation__item href=https://maku77.github.io/perl/>Perl</a><li><a class=navigation__item href=https://maku77.github.io/php/>PHP</a><li><a class="navigation__item navigation__item--focused" href=https://maku77.github.io/python/>Python</a><li><a class=navigation__item href=https://maku77.github.io/r/>R</a><li><a class=navigation__item href=https://maku77.github.io/ruby/>Ruby</a><li><a class=navigation__item href=https://maku77.github.io/rust/>Rust</a><li><a class=navigation__item href=https://maku77.github.io/sass/>Sass</a><li><a class=navigation__item href=https://maku77.github.io/sed/>sed/awk</a><li><a class=navigation__item href=https://maku77.github.io/sql/>SQL</a><li><a class=navigation__item href=https://maku77.github.io/tradestation/>トレードステーション</a><li><a class=navigation__item href=https://maku77.github.io/vagrant/>Vagrant</a><li><a class=navigation__item href=https://maku77.github.io/vba/>VBA</a><li><a class=navigation__item href=https://maku77.github.io/vim/>Vim</a><li><a class=navigation__item href=https://maku77.github.io/windows/>Windows</a></ul></nav><style>.codoc-support{display:inline-block;margin:0!important;padding:12px!important;width:200px!important;max-width:100%}.codoc-support .codoc-support-title{font-size:smaller!important;white-space:nowrap;margin-bottom:12px!important}.codoc-support .codoc-btn{width:160px!important}</style><script src=https://codoc.jp/js/cms.js data-css=black data-usercode=tp6ZPzTj3w defer></script><div id=codoc-entry-4gYwTntzzw class=codoc-entries data-without-body=1 data-support-button-text="（っ'-')╮シュッ🔴" data-show-like=0 data-show-about-codoc=0 data-show-powered-by=0 data-support-message=まくに投げ銭できます。></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("a[href^=http]");for(let n=0;n<e.length;++n){const t=e[n];if(t.href.startsWith("https://maku77.github.io"))continue;const s=t.getElementsByTagName("img");if(s.length>0)continue;const o=t.getElementsByTagName("svg");if(o.length>0)continue;t.classList.add("externalLinkIcon"),t.setAttribute("target","_blank"),t.setAttribute("rel","noopener")}})</script></body></html>
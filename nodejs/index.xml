<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Node.js on 天才まくまくノート</title><link>https://maku77.github.io/nodejs/</link><description>Recent content in Node.js on 天才まくまくノート</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Thu, 25 Jan 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://maku77.github.io/nodejs/index.xml" rel="self" type="application/rss+xml"/><item><title>corepack で yarn や pnpm などのパッケージマネージャーを管理する</title><link>https://maku77.github.io/p/tzwio3y/</link><pubDate>Thu, 25 Jan 2024 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/tzwio3y/</guid><description>corepack とは Node.js の実行環境には、パッケージマネージャーとして標準で npm コマンドが搭載されていますが、npm の代わりに yarn や pnpm などを導入しているプロジェクトが多くあります。 従来は、これらのコマンドを npm install -g pnpm のように別途インストールする必要がありましたが、Node.js に標準搭載された corepack を使用すると、初めからインストールされているかのようにyarn や pnpm コマンドを実行できるようになります。
また、使用するパッケージマネージャーを、package.json の packageManager プロパティで管理することができるので、プロジェクト内で使用するパッケージマネージャーとそのバージョンを統一できます。
corepack を有効化する corepack コマンドは Node.js 環境に組み込まれていますが、Node.js 21 の時点ではまだ実験段階 (experimental status) のため、corepack enable コマンドを実行して明示的に有効化 (Opt-in) しておく必要があります。 このコマンドは、システム内で一度だけ実行すれば大丈夫です。
corepack によるパッケージマネージャー管理を有効化 $ corepack enable このコマンドを実行することで、node コマンドの実行ファイルが置かれたディレクトリ内に、yarn や pnpm などのシンボリックリンクが生成されます。 これで、システム全体で yarn や pnpm コマンドを実行できるようになります。
もし、npm install や brew でグローバルインストールした yarn や pnpm がある場合は、もう必要ないのでアンインストールしておきましょう。
不要な yarn や pnpm はアンインストール $ npm uninstall -g yarn $ brew uninstall yarn 各パッケージマネージャーのコマンド（シンボリックリンク）が、node と同じ場所に存在していれば、おそらくうまくいっています。</description></item><item><title>nvm で複数の Node.js バージョンを切り替えて使用する (Node Version Manager)</title><link>https://maku77.github.io/p/3x95seb/</link><pubDate>Sun, 13 Mar 2022 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/3x95seb/</guid><description>nvm (Node Version Manager) とは？ nvm というコマンドラインツールを使うと、システム内に複数バージョンの Node.js 実行環境をインストールして、切り替えて使うことができるようになります。
$ nvm use 16 # node コマンドを version 16.x.x に切り替え $ nvm use 14 # node コマンドを version 14.x.x に切り替え 新しいバージョンの Node.js を試してみたいときや、複数バージョンでテストを行いたい場合に便利です。 nvm はスタンドアローン版の Node.js とも共存できるので、安心してインストールすることができます。 nvm を使わずにインストールされた Node.js は、system という名前で参照できるようになっています。
$ nvm use system # node コマンドをスタンドアローン版に切り替え nvm のインストール nvm コマンドは次のように簡単にインストールできます。
macOS や Linux の場合 $ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash 最新バージョンのインストール方法は nvm-sh/nvm - GitHub の公式サイトで確認してください。 インストール後は、ターミナル（bash など）を再起動するか、source ~/.bashrc を実行すると nvm コマンドを実行できるようになります。</description></item><item><title>Node.js スクリプトにシェバング (#!` を付けてコマンドとして起動できるようにする</title><link>https://maku77.github.io/p/ptactsj/</link><pubDate>Tue, 19 Nov 2013 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/ptactsj/</guid><description>一般的なスクリプト言語と同様に、Node.js で動作させるアプリもシェバング (#!) で node コマンドを指定しておくことができます。
app.js #!/usr/bin/env node console.log(&amp;#39;Hello&amp;#39;); あとは、.js ファイルに実行権限を付けてやれば、コマンドとして扱うことができるようになります。
実行方法 $ chmod +x app.js $ ./app.js Hello</description></item><item><title>Node.js をインストールする</title><link>https://maku77.github.io/p/z5ap5bf/</link><pubDate>Sun, 25 Nov 2012 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/z5ap5bf/</guid><description>Node.js とは Node.js は、JavaScript によって記述されたプログラム（スクリプト）を実行するための実行環境です。 JavaScript は、元々は Web ブラウザ内のコンテキストで実行されるスクリプト言語として開発されたものですが、Node.js のランタイム (Windows の場合は node.exe) を使用すると、ネイティブな実行環境で、JavaScript のプログラムを実行することができます。 Python や Ruby のような実行環境が、JavaScript 言語にも提供されたと考えると分かりやすいです。 例えば、Python によるプログラムは以下のように実行しますが、
$ python sample.py 同様に JavaScript で記述したプログラムを、下記のように実行できます。
$ node sample.js Node.js は、内部的には下記のような構成要素で成り立っています。
V8 — Google 製の JavaScript 実行エンジン。 libuv — 非同期イベントライブラリ。Node.js の作者の Ryan Dahl によって作成された。 Node.js では、libuv をベースとする非同期 I/O の仕組みによって、シングルスレッドながらも多くの接続を処理することができるようになっており、サーバサイドのプログラミング言語としても注目を集めています。
Node.js のインストール 各 OS 用の Node.js インストーラが提供されています。 下記のサイトからダウンロードして実行するだけで簡単にインストールできます。 複数バージョンの Node.js 実行環境をインストールしたい場合は、nvm というコマンドラインツールを使って Node.js をインストール してください。
Node.js - https://nodejs.org/ Node.js の実行環境は、デフォルトで下記のようなディレクトリにインストールされます。</description></item></channel></rss>
<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugo on 天才まくまくノート</title><link>https://maku77.github.io/hugo/</link><description>Recent content in Hugo on 天才まくまくノート</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Mon, 22 Feb 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://maku77.github.io/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo でクリックで開閉する accordion ショートコードを作成する</title><link>https://maku77.github.io/p/w5gs4ep/</link><pubDate>Mon, 22 Feb 2021 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/w5gs4ep/</guid><description>図: accordion ショートコードによる開閉表示 ブログ記事内の補足的な説明テキストなどは、デフォルトでは非表示にしておいて、必要なときにクリックで開閉できるようにしておくとスッキリします。 このような UI コンポーネントは、アコーディオン (accordion) と呼ばれることが多いので、ここでは accordion という名前のショートコードとして作成してみます。 accordion ショートコードは次のように使うことを想定しています。
Markdown 内での使用例 {{% accordion title=&amp;#34;もっと詳しく&amp;#34; %}} この本文はデフォルトでは隠されていて、クリックで見えるようになります。 - サンプルコード - 補足説明 などに使うと便利です。 {{% /accordion %}} ☝️ ワンポイント 本文のテキストを Markdown コードとして処理するためには、ショートコード名を &amp;lt; と &amp;gt; ではなく、上記のように % で囲む必要があります。 下記は、accordion ショートコードの実装例です。 クリックによる HTML 要素の表示／非表示の切り替えは、input 要素の状態による CSS の切り替えテクニック を利用しています。 label 要素と input 要素を結びつける ID には、Hugo の関数でランダムに生成した文字列 を使用しています。
layouts/shortcodes/accordion.html {{- $title := .Get &amp;#34;title&amp;#34; | default &amp;#34;例&amp;#34; }} {{- $rand := delimit (seq 9 | shuffle) &amp;#34;&amp;#34; }} &amp;lt;div class=&amp;#34;xAccordion&amp;#34;&amp;gt; &amp;lt;label class=&amp;#34;xAccordion_title&amp;#34; for=&amp;#34;id-{{ $rand }}&amp;#34;&amp;gt;{{ $title }}&amp;lt;/label&amp;gt; &amp;lt;input id=&amp;#34;id-{{ $rand }}&amp;#34; type=&amp;#34;checkbox&amp;#34;&amp;gt; &amp;lt;div class=&amp;#34;xAccordion_body&amp;#34;&amp;gt; {{ .</description></item><item><title>Hugo のテンプレートやショートコードでランダムな文字列を生成する</title><link>https://maku77.github.io/p/9qexh2q/</link><pubDate>Mon, 22 Feb 2021 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/9qexh2q/</guid><description>次の random ショートコードは、1 〜 9 の数値をランダムに並び替えた 9 桁の数値文字列を生成します。
layouts/shortcodes/random.html {{ $random1 := delimit (seq 9 | shuffle) &amp;#34;&amp;#34; }} {{ $random2 := delimit (shuffle (split &amp;#34;123456789&amp;#34; &amp;#34;&amp;#34; )) &amp;#34;&amp;#34; }} &amp;lt;p&amp;gt;random1 = {{ $random1 }}&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;random2 = {{ $random2 }}&amp;lt;/p&amp;gt; content/page1.md（使用例） --- title: &amp;#34;ページタイトル&amp;#34; --- {{&amp;lt; random &amp;gt;}} レンダリング結果 &amp;lt;p&amp;gt;random1 = 816257394&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;random2 = 234976851&amp;lt;/p&amp;gt; 上記の例では、2 種類の生成方法を示していますが、どちらも次のような手順でランダムな文字列を生成しています。
1 〜 9 の連番からなる配列を生成（seq 9 あるいは split &amp;quot;123456789&amp;quot; &amp;quot;&amp;quot; の部分） shuffle 関数 で配列要素をシャッフル delimit 関数 で配列要素を 1 つの文字列に結合 配列要素を結合する関数に delimit という名前が付けられていますが、多くの言語では join とか concatenate という名前が一般的ですね。 この関数名にはちょっと戸惑うかも（＾＾；</description></item><item><title>Hugo で SVG ファイルをインラインで埋め込む svg ショートコードを作成する</title><link>https://maku77.github.io/p/kyn8rcv/</link><pubDate>Tue, 20 Oct 2020 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/kyn8rcv/</guid><description>Hugo で SVG ファイルを表示するには、Markdown の画像ファイル用構文や、Hugo 組み込みの figure ショートコード などを使用します。
![サンプル画像](sample.svg) {{&amp;lt; figure src=&amp;#34;sample.svg&amp;#34; caption=&amp;#34;サンプル画像&amp;#34; &amp;gt;}} この方法で SVG ファイルを表示すると、次のような img タグで外部ファイルを参照するような HTML が出力されます。
&amp;lt;img src=&amp;#34;sample.svg&amp;#34;&amp;gt; これは、PNG ファイルや JPG ファイルと同様に外部ファイルを画像として表示する方法なので、SVG ファイル内にテキストが含まれていたとしても、そのテキストを検索することはできません。 SVG ファイルの内容をインラインで svg 要素として埋め込むようにすれば、SVG ファイルの内容をブラウザの検索機能などで検索できるようになります。
次の svg ショートコードは、指定された SVG ファイルをインラインで HTML に埋め込みます。 ポイントは、Hugo の readFile 関数でファイルの中身を読み込んで、その場に出力するところです。
layouts/shortcodes/svg.html {{- $src := .Get &amp;#34;src&amp;#34; }} {{- $title := .Get &amp;#34;title&amp;#34; }} {{- /* md ファイルからの相対パスで svg ファイル名を指定できるように */}} {{- $svgFile := path.Join (path.Dir .</description></item><item><title>Hugo でショートコードが使われている場合のみ JavaScript を読み込む (.HasShortcode)</title><link>https://maku77.github.io/p/3j6qate/</link><pubDate>Tue, 13 Oct 2020 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/3j6qate/</guid><description>.HasShortcode 関数 外部の JavaScript ファイルを利用して動作するショートコードを作成すると、Web サイトの表現力を大きく向上させることができます。 例えば、次のようなショートコードが考えられます。
独自の構文でコードを記述すると UML 図を出力してくれる mermaid ショートコード（mermaid.js などを利用） TeX 構文でコードを記述すると数式を出力してくれる math ショートコード（MathJax.js などを利用） このとき悩ましいのが、どのようにして次のような script 要素を出力するかです。
&amp;lt;script src=&amp;#34;for-shortcode.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; すべてのページにこのようなコードを出力してしまうと、この JavaScript が必要ないページでもファイルの読み込みが発生してしまいます。 こういった拡張が増えてくると、大量の JavaScript ファイルが読み込まれることになり、重い Web サイトになってしまいます。
このような場合の救世主が Page.HasShortcode 関数です。
参考: Hugo - Create Your Own Shortcodes - Checking for Existence ページテンプレート内で、
{{ if .HasShortcode &amp;#34;my-shortcode&amp;#34; }} ... {{ end }} といった記述をしておくと、Markdown ファイル内で my-shortcode ショートコードを使用している場合のみ出力を行うことができます。
実装例 例えば、ベーステンプレートの body 要素の末尾に次のように記述しておけば、Markdown ファイル内で mermaid ショートコードを使用している場合のみ、mermaid.js の読み込みと初期化処理を実行することができます。
layouts/_default/baseof.html（抜粋） ... {{- if .</description></item><item><title>mermaid.js で Hugo の Markdown 記事に UML 図を埋め込む</title><link>https://maku77.github.io/p/xg3n7qa/</link><pubDate>Tue, 13 Oct 2020 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/xg3n7qa/</guid><description>mermaid.js とは mermaid.js を使うと、独自構文のテキストから UML 図などを生成することができます。 JavaScript で動的に SVG を生成することができるので、Markdown ファイルに図を埋め込みたい場合によく使われています。
Azure DevOps Wiki や GitHub、Gitlab などでも標準サポートされており、Markdown で図を扱うときのデファクトスタンダードになるかもしれません。 UML 図の表現力という点では PlantUML の方が上ですが、そのあたりは改善されていくと思います。
Hugo は現時点 (v0.76.4) では、mermaid.js を標準サポートしていないので、ここでは Hugo に mermaid.js を組み込む方法を説明します。
mermaid.js の仕組み mermaid.js は、次のような mermaid クラスが付けられた HTML 要素の内容を読み取り、そこに変換後の図 (SVG) を挿入します。 この例の場合は、div 要素の内容が SVG に置き換わります。
&amp;lt;div class=&amp;#34;mermaid&amp;#34;&amp;gt; graph LR A --- B B--&amp;gt;C[あいうえお] B--&amp;gt;D(かきくけこ) &amp;lt;/div&amp;gt; HTML の body 要素の末尾あたりで、次のように mermaid.js の読み込みと初期化を行います。
... &amp;lt;script src=&amp;#34;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;script&amp;gt;mermaid.initialize({startOnLoad: true});&amp;lt;/script&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; これだけで、Web ブラウザでページを開いたときに、SVG に変換された図が表示されます。</description></item><item><title>ショートコードをエスケープ処理してそのまま表示する</title><link>https://maku77.github.io/p/9tg2m7q/</link><pubDate>Thu, 07 May 2020 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/9tg2m7q/</guid><description>Hugo で作成した記事（.md ファイル）内でショートコードの使い方を説明するときなど、ショートコードのタグそのものを文章中に表示させたいことがあります。 そのまま記述するとショートコードとして処理されてしまうので、次のようにエスケープ処理して記述する必要があります。
Markdown ファイル内での書き方 出力結果 {{&amp;lt;/* my-shortcode */&amp;gt;}} {{&amp;lt; my-shortcode &amp;gt;}} {{%/* my-shortcode */%}} {{% my-shortcode %}} ショートコード名の部分 (my-shortcode) を C/C++ や Java のコメント風に囲めば OK です。 コードブロックの中でも同様にエスケープ処理できます。</description></item><item><title>Hugo でドラフトページの一覧を簡単に確認できるようにする</title><link>https://maku77.github.io/p/qpcvfzi/</link><pubDate>Wed, 22 May 2019 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/qpcvfzi/</guid><description>やりたいこと Hugo では、作成途中の記事ページをドラフトとしてマークしておくと、デフォルトで非公開扱いになるので、気軽に記事を書き始めることができます。 ただ、ドラフトページがたくさん溜まってくると、自分が中途半端に書き始めた記事が散らばって分かりにくくなってしまいます。 そこで、ここでは下記のような仕組みを実装して、Hugo のドラフト機能をより便利に使用できるようにします。
図: ドラフト一覧のページへ移動するボタン ドラフトの一覧ページに飛ぶための ドラフト記事一覧ボタン をサイドバー上に表示する（上図） ドラフトの一覧ページでは、最終更新日 や タグ情報 も一緒に表示する 上記は ローカルでの作業中のみ表示する こととする（具体的には hugo server で実行中のみ） ドラフト記事一覧のページにジャンプするボタンを配置する ドラフトページへジャンプするためのボタンは、レイアウトファイルから簡単に配置できるように、パーシャルファイルとして作成します。 個人的に、ローカルでしか有効にしないコードは、下記のように debug ディレクトリの下に入れるようにしています。 そして、全体のコードを if .Site.IsServer の条件で囲むことで、ローカルサーバーで起動しているときのみ出力されるようにしています。
layouts/partials/debug/draft-button.html {{- if .Site.IsServer -}} &amp;lt;style&amp;gt; .xDraftButton { display: block; text-align: center; width: 100%; font-weight: bolder; color: white !important; background: blue; padding: 0.3em 0.5em; border-radius: 0.5em; } &amp;lt;/style&amp;gt; &amp;lt;a href=&amp;#34;/drafts/&amp;#34; class=&amp;#34;xDraftButton&amp;#34;&amp;gt;ドラフト記事一覧&amp;lt;/a&amp;gt; {{- end }} 簡単に言えば、このパーシャルは、https://example.com/drafts/ といった URL へのリンクを出力しているだけです。 上記では style 要素も含めてしまっていますが、みなさんはちゃんと CSS ファイルでスタイル定義するようにしてください。</description></item><item><title>Hugo でソースコードをハイライト表示する (highlight)</title><link>https://maku77.github.io/p/gxk6qat/</link><pubDate>Sun, 17 Mar 2019 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/gxk6qat/</guid><description>Pygments によるコードハイライト Hugo の設定ファイル config.toml の中で、下記のように設定しておくと、Pygments によるコードブロックのハイライト機能を有効にすることができます。
pygmentsCodeFences = true 例えば、Java のソースコードであれば、Markdown ファイルの中で、下記のように言語名 java を指定してコードブロックを記述。
```java public class Main { public static void main(String... args) { System.out.println(&amp;#34;Hello&amp;#34;); } } ``` 図: ハイライト表示例 highlight ショートコードによるコードハイライト Hugo の組み込みショートコードとして highlight が用意されています。 このショートコードを使用すると、pyghmentsCodeFences を使う方法よりも高度なコードハイライトを行えます。 例えば、下記のように、行番号を表示したり、特定の行を強調表示することができます。
{{&amp;lt; highlight java &amp;#34;linenos=table, hl_lines=3&amp;#34; &amp;gt;}} public class Main { public static void main(String... args) { System.out.println(&amp;#34;Hello&amp;#34;); } } {{&amp;lt; /highlight &amp;gt;}} 図: ハイライト表示例 色々なオプションが用意されているので、詳しくは下記の Hugo ドキュメントを参照してください。
Hugo - Syntax Highlighting キャプションを付けられる独自のショートコードを作成する ソースコードの表示をキャプション付きでマークアップする場合は、HTML では下記のように figure、figcaption タグを使って記述します。</description></item><item><title>Hugo でリンクをページからの相対パスで出力するようにする (relativeurls)</title><link>https://maku77.github.io/p/32n9scv/</link><pubDate>Thu, 21 Feb 2019 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/32n9scv/</guid><description>サイト内のページへのリンクを /sec1/sec2/ のように記述しておくと、デフォルトではそのまま /sec1/sec2/ へのリンクとして出力されます（つまり、baseURL からの相対パスになります）。
Hugo の設定ファイル config.toml（あるいは config.yaml）で relativeurls = true という設定を追加しておくと、各リンクが現在のページからの相対パスで出力されるようになります。
config.toml の例 baseURL = &amp;#34;https://example.com/&amp;#34; relativeurls = true languageCode = &amp;#34;ja-jp&amp;#34; title = &amp;#34;サンプル Web サイト&amp;#34; 例えば、/content/posts/sample.md というコンテンツファイル内に /about/ というリンクを記載しておくと、出力されるリンクのパスは ../about/ になります。</description></item><item><title>Hugo で Sass (SASS/SCSS) スタイルシートを使用する</title><link>https://maku77.github.io/p/k7jv7hs/</link><pubDate>Thu, 16 Aug 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/k7jv7hs/</guid><description>Hugo 0.46 で Sass (SASS/SCSS) がサポートされました。 これを使うと、スタイルシートを効率的に記述できるようになります。&amp;quot;
Sass とは Sass (SASS/SCSS) は CSS のプリプロセッサで、これを利用すると、柔軟な変数の仕組みや、入れ子構造を用いたスタイルシート記述が可能になります。
Sass: Syntactically Awesome Style Sheets Sass の記述フォーマットとしては、古い SASS 記法（拡張子 .sass）と、新しい SCSS 記法（拡張子 .scss）がありますが、現在は CSS のフォーマットと互換性のある SCSS 記法が主流になっています。 最新の CSS では、ネイティブに変数の仕組みなどをサポートしていますが、ブラウザの対応状況もまだまだなので、しばらくは Sass が使われ続けるでしょう。
Hugo で Sass を使用する Hugo で Sass を使用する方法は、下記の本家ドキュメントに記述されています。
Hugo Pipes ＞ SASS/SCSS Hugo Pipes ＞ Hugo Pipes Introduction 大まかな手順は次の通りです。
ルートの assets ディレクトリ以下に .scss ファイルを配置する。 テンプレート内でパイプコマンドを利用して .scss ファイルを .css に変換し、変換後の .css ファイル名を link 要素で指定する。 1. assets ディレクトリに .</description></item><item><title>Hugo のページ内に Tex 形式の数式を埋め込めるようにする (MathJax)</title><link>https://maku77.github.io/p/dsfzi4n/</link><pubDate>Thu, 21 Jun 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/dsfzi4n/</guid><description>Hugo のテンプレートで MathJax という Javascript ライブラリを組み込むと、記事内に Tex 形式の数式を埋め込むことができるようになります。
参考: MathJax with Hugo MathJax を有効にする まず、すべてのページで次のようにして MathJax.js を読み込む必要があります。
&amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; フッター用のパーシャルテンプレート（layouts/partials/footer.html など）を用意しているのであれば、その中に記述しておくのがよいでしょう。
CDN で提供されている最新の MathJax.js のアドレスは、cdnjs.com のサイトで MathJax と入力するか、MathJax のサイト で調べることができます。
ページ内に数式を記述する あとは、Markdown ファイル内で $$数式$$ というフォーマットで記述すれば、きれいな数式が表示されます。
Markdown ファイル内の記述例 $$F(x) = \sum_{n=1}^{N} \frac{1}{N}$$ 図: 表示例 インライン形式で数式を記述できるようにする 通常の文章の中にインライン形式で数式を埋め込むには、MathJax.js の設定を行っておく必要があります。 MathJax.js を読み込む HTML コードと一緒に、次のようなコードを追加してください。
テンプレート抜粋（layouts/partials/footer.html など） &amp;lt;script type=&amp;#34;text/x-mathjax-config&amp;#34;&amp;gt; MathJax.Hub.Config({ tex2jax: { inlineMath: [[&amp;#39;$&amp;#39;,&amp;#39;$&amp;#39;]] } }); &amp;lt;/script&amp;gt; 上記のように設定しておくと、文章の中に $数式$ というフォーマットで、数式をインラインで埋め込めるようになります。
Markdown ファイル内の記述 次の数式は $F(x) = \sum_{n=1}^{N} \frac{1}{N}$ 文章内に埋め込まれます。 図: 表示例</description></item><item><title>Hugo で Google アナリティクス用のトラッキングコードを埋め込む (googleAnalytics)</title><link>https://maku77.github.io/p/zxk6pat/</link><pubDate>Fri, 01 Jun 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/zxk6pat/</guid><description>Google Analytics を使用すると、Web サイトのアクセス情報を多角的に分析できるようになります。 ここでは、Hugo で作成する Web サイトに、簡単に Google Analytics 用のコードを埋め込めるようにしてみます。
トラッキング ID をコンフィグファイルで設定する まずは、Google Analytics の管理画面から、「プロパティの追加」を実行し、分析したい Web サイトのアドレスを追加しておきます（Google Analytics のアカウントを持っていない場合は、先にアカウントから作成しておく必要があります）。 そのとき発行されるトラッキング ID（UA-12345678-1 のような ID）が、その Web サイトへのアクセスを判別するための識別情報となります。 この ID は、Web サイトごとに別のものを使用するので、Hugo のコンフィグファイルで設定するのがよいでしょう。
Hugo には、コンフィグファイル用のパラメータとして、あらかじめ googleAnalytics というパラメータが用意されています。 下記のような感じで、Google Analytics のサイトで発行したトラッキング ID を設定しましょう。
config.toml baseURL = &amp;#34;https://example.com/&amp;#34; languageCode = &amp;#34;ja-jp&amp;#34; title = &amp;#34;まく日記&amp;#34; theme = &amp;#34;maku&amp;#34; googleAnalytics = &amp;#34;UA-12345678-1&amp;#34; 上記のように設定すると、テンプレートファイルの中から、.Site.GoogleAnalytics でトラッキング ID を参照できるようになります。
トラッキングコード (JS) を自動で埋め込むようにする Google Analytics を有効にするには、各ページの head 要素の先頭に、次のような トラッキングコード を埋め込む必要があります（参考: gtag.</description></item><item><title>Hugo でコンフィグファイルに設定した情報を参照する</title><link>https://maku77.github.io/p/5m9tdwg/</link><pubDate>Fri, 01 Jun 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/5m9tdwg/</guid><description>コンフィグファイルの基本 Hugo サイトの全般的な設定は、ルートディレクトリに置いた下記のいずれかのコンフィグファイルで行います（最初に見つかったものが採用されます）。
config.toml （TOMLフォーマットで記述） config.yaml （YAMLフォーマットで記述） config.json （JSONフォーマットで記述） config.toml の記述例 baseURL = &amp;#34;https://example.com/&amp;#34; languageCode = &amp;#34;ja-jp&amp;#34; title = &amp;#34;まく日記&amp;#34; themesDir = &amp;#34;../hugo_themes&amp;#34; theme = &amp;#34;maku&amp;#34; 設定可能なパラメータや、それぞれのデフォルト値は下記に一覧があります。
Configure Hugo｜Hugo 設定値を参照する Hugo が定義しているパラメータを参照する コンフィグファイルで設定したパラメータは、テンプレートファイル内から、.Site 変数を使って参照することができます。 例えば、config.toml ファイルの中で設定した title や baseURL パラメータの値は次のようにして参照することができます。
このサイトのタイトルは &amp;lt;b&amp;gt;{{ $.Site.Title }}&amp;lt;/b&amp;gt; です。 このサイトのベースアドレスは &amp;lt;b&amp;gt;{{ $.Site.BaseURL }}&amp;lt;/b&amp;gt; です。 パラメータ名の先頭は、大文字になっていることに注意してください（.Site.title ではなく .Site.Title が正しい）。 それぞれの設定値が、どのようなプロパティ名で参照できるようになっているかは、下記の Site 変数の一覧を見るとわかります。
Site Variables｜Hugo パラメータが設定されているかどうかで処理を分岐させたい場合は、例えば次のように記述しておけばよいでしょう。 ここでは、googleAnalytics というパラメータで、Google Analytics 用のトラッキング ID が設定されているかどうかをチェックしています。
{{ with $.Site.GoogleAnalytics }} Google Analytics のトラッキング ID は &amp;lt;b&amp;gt;{{ .</description></item><item><title>Hugo サーバーで記事の変更内容が反映されない場合</title><link>https://maku77.github.io/p/taxh3m7/</link><pubDate>Tue, 29 May 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/taxh3m7/</guid><description>Hugo サーバーを立ち上げて記事の更新をしていると、Web ブラウザをリロードしても変更内容が反映されないことがあります（特に layouts や partials など、共有して使う部分など）。
ページのビルドに成功しているのに変更内容が反映されない場合は、Hugo サーバーのキャッシュを疑ってみるとよいかもしれません。 hugo server コマンドを実行するときに、--ignoreCache オプションをつけると、キャッシュを使わずにレンダリングされます。
$ hugo server --ignoreCache</description></item><item><title>Hugo のローカルサーバーで動作させているとき（開発時）のみ内容を出力する private ショートコードを作成する</title><link>https://maku77.github.io/p/jbr6kzd/</link><pubDate>Mon, 02 Apr 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/jbr6kzd/</guid><description>自分の作業用備忘録としてはメモとして残したいけれど、インターネット上には公開したくない内容に関しては、Hugo をローカルサーバーとして動作させているときだけ出力するようなショートコードを作成しておくと便利です。
private ショートコードを作成する そのショートコードが、Hugo のローカルサーバ上 (hugo server) で使用されたかを判別するには、Site 変数の .Site.IsServer を参照します。
layouts/shortcodes/private.html {{ if .Site.IsServer }} ローカルサーバで動作しています。 {{ end }} あとは、.Inner 変数で、渡されたテキストを参照することができるので、たとえば次のように実装すればよいでしょう。
layouts/shortcodes/private.html {{ if .Site.IsServer }} &amp;lt;div class=&amp;#34;private&amp;#34;&amp;gt;{{ .Inner }}&amp;lt;/div&amp;gt; {{ end }} ここでは、出力する div 要素に private というクラスを割り当てています。 下記は private クラスに適用するスタイルシートの例です（赤系の色で強調表示するようにしています）。
.private { background: #fee; color: #f11; padding: 0.5em; border: solid 1px #f11; } .private::before { content: &amp;#34;Private メモ&amp;#34;; display: block; font-weight: bolder; } 使用方法 作成した private ショートコードは、記事ファイルの中で次のように利用します。</description></item><item><title>Hugo のベーステンプレートを作成して、各種テンプレートの基本構成を統一する (baseof.html)</title><link>https://maku77.github.io/p/bbxj5pa/</link><pubDate>Wed, 10 Jan 2018 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/bbxj5pa/</guid><description>Hugo のベーステンプレート機能を利用すると、各種テンプレートの親テンプレートのようなものを作成することができます。 ベーステンプレートを作成することで、すべてのページの HTML 構成を統一することができ、個々のテンプレートの見通しもよくなります。
Hugo では、リストテンプレートやシングルページテンプレートなど、用途によって別々のテンプレートファイルを用意することになっています。 でも、HTML 全体の大まかな構成は共通した部分が多いはずです。 例えば、どのページでも HTML は次のような構成になっているはずです。
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;ja&amp;#34;&amp;gt; &amp;lt;html&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; ... &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; ... &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; Hugo のベーステンプレート機能を使用すると、上記のような全体の構成をベーステンプレート (baseof.html) として作成し、その中の部分的なブロックだけを通常のテンプレート（リストテンプレートやシングルページテンプレート）で定義した内容で置き換えるということができます。
図: ベーステンプレートの仕組み Hugo のベーステンプレート機能は、Go のテンプレートライブラリの block template という仕組みを使用しており、block で定義した部分を、define で定義した内容で置き換えるという動作をします。 上の図を見ると分かりやすいと思いますが、ベーステンプレート (baseof.html) を用意すると、基本的にすべてのページがベーステンプレートを利用してレンダリングされるようになり、その中の部分的なブロック（上記では main という名前のブロック）が子テンプレートで定義した内容で置き換えられます。 このとき、どの子テンプレートが使用されるかは、ベーステンプレートの仕組みを使用しない場合と同様で、表示するページの種類によって決まります。 例えば、ホームページやセクションページなどのレンダリングには list.html が使用され、個々の記事ページのレンダリングには single.html が使用されます。
具体的なベーステンプレートの利用例 下記はベーステンプレートの具体的な記述例です。 main 要素以下のメインコンテンツを block template の機能で置き換えるようにしています。
layouts/_default/baseof.html（ベーステンプレート） &amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;{{ .Site.LanguageCode }}&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width,initial-scale=1.0&amp;#34;&amp;gt; &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;{{ &amp;#34;assets/css/main.</description></item><item><title>レイアウト用のテンプレートの種類を理解する</title><link>https://maku77.github.io/p/zg4n7q9/</link><pubDate>Tue, 28 Nov 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/zg4n7q9/</guid><description>Hugo では様々なタイプのテンプレートファイルを用意することができ、コンテンツファイルのパスに応じて、どのテンプレートファイルを使ってレンダリングされるかが決定されます。
Hugo のテンプレートファイル Hugo で Web サイトを作成する場合、コンテンツファイルとして Markdown ファイルを作成していきます。 この Markdown ファイルが HTML の形にレンダリングされるとき、テンプレートファイル が使用されます。 Hugo のテンプレートの仕組みを理解することは、Hugo を使いこなすキモとなります。 ここでは、どのような種類のテンプレートファイルが、どのようなコンテンツに対して適用されてレンダリングされるのかを把握しましょう。
ここでは、下記のようなコンテンツ階層があるものとして説明していきます。
コンテンツのディレクトリ階層 content/ +-- _index.md （ホームページ） +-- page1.md （通常のページ） +-- page2.md （通常のページ） +-- section1/ | +-- _index.md （セクションのインデックスページ ＝ セクションページ） | +-- pagel-1.md （通常のページ） | +-- page1-2.md （通常のページ） +-- section2/ +-- _index.md （セクションのインデックスページ ＝ セクションページ） +-- page2-1.md （通常のページ） +-- page2-2.md （通常のページ） ホームページテンプレート (Homepage Template) Homepage Template 最上位の _index.md をレンダリングするときは、ホームページテンプレート が使用されます。</description></item><item><title>複数の Hugo サーバーを 1 つのコマンドプロンプト上で立ち上げる</title><link>https://maku77.github.io/p/yg4o9rb/</link><pubDate>Tue, 10 Oct 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/yg4o9rb/</guid><description>Hugo サーバーの複数起動について 複数のサイトを Hugo で運用しているケースでは、ひとつのコマンドプロンプトから同時にサーバー起動できると便利です。
ここでは、下記のようにホームディレクトリ以下に複数の Hugo プロジェクトが存在するとします。
C:/website/site1 C:/website/site2 C:/website/site3 各 Hugo プロジェクトに対して Hugo サーバーを起動するには、例えば次のように実行していきます。
ポート番号を指定して Hugo サーバーを複数起動する C:\&amp;gt; hugo server -p 50001 -s C:/website/site1 C:\&amp;gt; hugo server -p 50002 -s C:/website/site2 C:\&amp;gt; hugo server -p 50003 -s C:/website/site3 参考: カレントディレクトリを気にせずに hugo コマンドを実行する 参考: ポート番号を指定して Hugo サーバーを起動する ただし、上記のようにすると、1 つのサーバープロセスが 1 つのコマンドプロンプトを占有するため、複数の Hugo サーバーを起動しているときに複数のコマンドプロンプトを開いたままにしなければいけません。
1 つのターミナルで複数の Hugo サーバーを起動する Windows の場合 Windows の start コマンドを使用すると、バックグラウンドで hugo コマンドを実行することができるので、追加でコマンドプロンプトを開くことなしに複数の Hugo サーバーを起動することができます。 例えば、下記のバッチファイルは、３つの Hugo サーバーをバックグラウンドで起動します。</description></item><item><title>Hugo のショートコードの中からフロントマターのパラメータを参照する ($.Page.Params)</title><link>https://maku77.github.io/p/t4sdxi3/</link><pubDate>Mon, 02 Oct 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/t4sdxi3/</guid><description>Hugo のショートコードの中で $.Page.Params を参照すると、コンテンツファイルのフロントマターに記述したパラメータにアクセスすることができます。 下記の hello ショートコードは、コンテンツファイル (.md) のフロントマターに記述された title パラメータと date パラメータの値を表示します。
layouts/shortcodes/title-and-date.html {{ $.Page.Params.title }}&amp;lt;br&amp;gt; {{ $.Page.Params.date | dateFormat &amp;#34;Mon, 02 Jan 2006&amp;#34; }} ☝️ ワンポイント 時刻情報は dateFormat 関数に渡すことで、任意のフォーマットで出力することができます。 パイプで渡すのではなく、関数の第 2 パラメータとして次のように渡すこともできます。
{{ dateFormat &amp;#34;Mon, 02 Jan 2006&amp;#34; $.Page.Params.date }} Go 言語の時刻の扱いに関しては こちらを参照 してください。
作成した title-and-date ショートコードは、コンテンツファイルの中から次のように使用します。
content/page1.md --- title: &amp;#34;ページタイトル&amp;#34; date: &amp;#34;2017-10-02&amp;#34; --- {{&amp;lt; title-and-date &amp;gt;}} 上記のショートコードの部分は、HTML ファイル出力時に次のように展開されます。
Page1 Title&amp;lt;br&amp;gt; Mon, 02 Oct 2017</description></item><item><title>Hugo のショートコードの中から設定ファイルのパラメータを参照する ($.Site.Params)</title><link>https://maku77.github.io/p/53patex/</link><pubDate>Mon, 02 Oct 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/53patex/</guid><description>Hugo のショートコードの中で $.Site.Params を参照すると、設定ファイル (config.toml) の params セクションに記述した情報を取得することができます。 例えば、設定ファイルに下記のように記述されていたとします。
config.toml baseURL = &amp;#34;http://example.org/&amp;#34; languageCode = &amp;#34;ja-jp&amp;#34; title = &amp;#34;わたしのブログ&amp;#34; theme = &amp;#34;my-theme&amp;#34; [params] subtitle = &amp;#34;Hugo を使って日記を書いています&amp;#34; authors = [ &amp;#34;Maku&amp;#34;, &amp;#34;Ponyo&amp;#34; ] 上記の params セクションに記述した設定値は、ショートコードの中から $.Site.Params.&amp;lt;パラメータ名&amp;gt; で参照することができます。 下記の site-info ショートコードは、サイトのタイトルとサブタイトル、筆者情報を表示するショートコードの実装例です。
layouts/shortcodes/site-info.html &amp;lt;div class=&amp;#34;title&amp;#34;&amp;gt;{{ $.Site.Title }}&amp;lt;/div&amp;gt; &amp;lt;div class=&amp;#34;subtitle&amp;#34;&amp;gt;{{ $.Site.Params.subtitle }}&amp;lt;/div&amp;gt; &amp;lt;ul&amp;gt; {{ range $.Site.Params.authors }} &amp;lt;li&amp;gt;{{- . -}}&amp;lt;/li&amp;gt; {{ end }} &amp;lt;/ul&amp;gt; ☝️ ワンポイント 上記のコードの中で、{{- . -}} と書いてある部分は、ループ処理で取り出した著者の名前を出力することを示しています。 {{ . }} と記述する代わりに、前後にハイフンを入れておくことで、出力時に前後の余計なスペースを取り除いてくれます。 コンテンツファイル (.</description></item><item><title>Hugo で独自のショートコードを作成する</title><link>https://maku77.github.io/p/ttfyk5o/</link><pubDate>Fri, 29 Sep 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/ttfyk5o/</guid><description>Hugo で独自のショートコードを作成すると、定型の HTML コードを記事内に簡単に埋め込めるようになります。
ショートコード作成の基本 ショートコードは、layouts/shortcodes ディレクトリ内に .html 拡張子のファイルとして作成します。
layouts/shortcodes/my-shortcode.html This is my first short code. ファイル名から拡張子を除いたものが、ショートコード名となります。 上記の例の場合、my-shortcode というショートコードを作成したことになります。 記事（Markdown ファイル）の中から、下記のように呼び出すと、上記の内容がそこに展開されます。
content/page1.md --- title: &amp;#34;ページタイトル&amp;#34; --- {{&amp;lt; my-shortcode &amp;gt;}} ショートコードにパラメータを渡す (.Get) 単純なパラメータ ショートコード呼び出し時に、パラメータを渡すことができます。 下記の例では、２つのパラメータ red、32px を渡しています。
{{&amp;lt; my-shortcode red 32px &amp;gt;}} 渡されたパラメータは、ショートコードの中で {{ .Get インデックス番号 }} のように参照することができます。
layouts/shortcodes/my-shortcode.html &amp;lt;div style=&amp;#34;color:{{ .Get 0 }}; font-size:{{ .Get 1 }};&amp;#34;&amp;gt; This is my first short code. &amp;lt;/div&amp;gt; 名前付きパラメータ 上記の例では、参照するパラメータをインデックス番号 (0, 1, 2, &amp;hellip;) で指定していますが、2 つ以上のパラメータを持つショートコードを作成するときは、名前付きパラメータ の仕組みを使うと分かりやすくなります。</description></item><item><title>Hugo のショートコードで本文内に HTML スニペットを埋め込む</title><link>https://maku77.github.io/p/tsfzj4n/</link><pubDate>Fri, 29 Sep 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/tsfzj4n/</guid><description>記事の中に定型のコード（YouTube 動画表示用 HTML など）を埋め込みたいときは、Hugo のショートコード (Shortcode) の機能を使用すると便利です。
ショートコードの基本 Hugo は基本的にマークダウン形式で記事を記述していくのですが、マークダウンの表現力には限界があるので、ときには HTML を直接記述したくなることがあります。 しかし、毎回同じような HTML を記述するのでは、マークダウン形式を使用する意味がなくなってしまいます。 このような場合に、HTML 部分をショートコードとして外部ファイルに保存しておくと、記事の中に簡単にその HTML を埋め込めるようになります。
☝️ ワンポイント ショートコードは記事（コンテンツファイル）の中から呼び出すことができますが、テンプレートファイルの中からは呼び出せないことに注意してください。 テンプレートの中から同様のことを行いたい場合は、パーシャルテンプレートの仕組みを使用します。 Hugo には、いくつかの組み込みのショートコードが用意されています。 例えば、下記は Youtube の動画や、Instagram の投稿を埋め込むためのショートコードの使い方の例です。
例: Youtube 動画を記事内に埋め込む {{&amp;lt; youtube w7Ft2ymGmfc &amp;gt;}} {{&amp;lt; youtube id=&amp;#34;w7Ft2ymGmfc&amp;#34; autoplay=&amp;#34;true&amp;#34; &amp;gt;}} 例: Instagram の投稿を記事内に埋め込む {{&amp;lt; instagram BWNjjyYFxVx &amp;gt;}} 例: ツイートを記事内に埋め込む {{&amp;lt; tweet 877500564405444608 &amp;gt;}} ショートコードの呼び出し方 記事内からショートコードを呼び出すには、下記のような構文を使用します。
{{&amp;lt; shortcode-name param1 param2 &amp;gt;}} 名前付きのパラメータを使用する場合は、param1=&amp;quot;value1&amp;quot; のように記述します。
{{&amp;lt; shortcode-name param1=&amp;#34;value1&amp;#34; param2=&amp;#34;value2&amp;#34; &amp;gt;}} HTML タグのように、開始タグと終了タグで内部テキストを囲むこともできます (paired shortcode)。</description></item><item><title>Hugo で日本語を正しく扱えるようにしてページサマリーが長くなるのを防ぐ (hasCJKLanguage, isCJKLanguage)</title><link>https://maku77.github.io/p/rqcwgyj/</link><pubDate>Tue, 29 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/rqcwgyj/</guid><description>Hugo の記事一覧ページでは、記事の先頭部分を特定の単語数 (70 words) だけサマリー表示するようになっています。 ただし、このワードカウントはデフォルトでは英語などの単語数をベースに計算されているので、日本語などでは正しくカウントされずに、長大なサマリーが表示されてしまいます。
日本語の文字数を正しく数えて、短いサマリーを表示できるようにするには、設定ファイルで下記のように hasCJKLanguage を true に設定します。
config.toml の場合 hasCJKLanguage = true config.yaml の場合 hasCJKLanguage: true これで、Hugo 内部の .Summary や .WordCount が日本語で正しく動作するようになり、短いサマリー文章が表示されるようになります。
各ページごとに設定を行いたい場合は、下記のようにフロントマターで、isCJKLanguage を true に設定します。
--- title: &amp;#34;記事のタイトル&amp;#34; date: &amp;#34;2017-08-29&amp;#34; isCJKLanguage: true --- 記事の本文 設定ファイルでは hasCJKLanguage を設定し、Markdown ファイルのフロントマターでは isCJKLanguage を設定することに注意してください。</description></item><item><title>Hugo で記事を作成する</title><link>https://maku77.github.io/p/q7sdwgy/</link><pubDate>Fri, 25 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/q7sdwgy/</guid><description>記事ファイルを作成する Hugo で公開する Web サイトの記事は、content ディレクトリに Markdown ファイルとして作成します（例: sample.md）。 記事ファイルは、空っぽのテキストファイルから作成していくこともできますが、hugo new コマンドを使用することで、記事のひな形ファイル (archetypes/default.md) をベースにして Markdown ファイルを自動生成することができます。
記事ファイル（Markdown ファイル）を作成 $ hugo new sample.md /Users/maku/my_site/content/sample.md created 上記のように実行すると、content ディレクトリ内に sample.md ファイルが作成されます。 作成されたファイルの先頭部分には、下記のような Front matter というヘッダが記述されています。 このヘッダが、archetypes/default.md をもとにして自動生成されたものです。
content/sample.md --- title: &amp;#34;Sample&amp;#34; date: 2017-08-25T22:55:55+09:00 draft: true --- あとは、タイトル (title) を適切なものに書き換え、Front matter ヘッダ以降に記事の本文を記述していきます。 公開できるレベルまで記述できたら、ヘッダ部分の draft: true の行を削除します。
Archetypes ここで、ベースとなっている archetypes/default.md を覗いてみましょう。
archetypes/default.md --- title: {{ replace .TranslationBaseName &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34; date: {{ .</description></item><item><title>Hugo のテーマを設定する</title><link>https://maku77.github.io/p/h2cku5d/</link><pubDate>Fri, 25 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/h2cku5d/</guid><description>テーマをダウンロードする Hugo で Web サイトを生成するときは、外観のベースとなる テーマ を設定する必要があります。 テーマを設定せずに hugo コマンドで Web サイトを出力しても、真っ白なページが表示されてしまうだけです。 テーマは自分で作成することもできますが、Hugo Themes というサイトに、有志の人によって作られたテーマが公開されていますので、まずはここからダウンロードして使ってみるのがよいでしょう。 使用方法はテーマごとに少しずつことなるので、詳細はそれぞれのテーマの説明 (README.md) を読んでください。
テーマの ZIP ファイルをダウンロードする方法 例えば、下記の bootstrap4-blog というテーマがよさそうであれば、Download ボタンを押します。
通常は、GitHub のサイトに飛ぶので、Clone or download のボタンを押してテーマをダウンロードしてください。
ダウンロードしたテーマは、プロジェクトの themes ディレクトリに配置します。 このケースでは、themes/bootstrap4-blog ディレクトリとして配置します。
テーマを Git で取得する方法 テーマは GitHub 上で管理されていますので、Git コマンドが使える環境であれば、下記のように git clone してしまうのが簡単です（もちろん先にリポジトリの URL は調べておく必要はありますが）。
$ git clone https://github.com/alanorth/hugo-theme-bootstrap4-blog.git themes/bootstrap4-blog もし、自分のサイトを Git 管理しているのであれば、次のようにテーマを Git サブモジュール として取り込んでしまうがよいです。 Git サブモジュールのコマンド (git submodule) はちょっと難しいですが、テーマをサブモジュールとして管理すれば、テーマ側の更新を適宜反映できるようになります。
# テーマをサブモジュールとして取り込む $ git submodule add https://github.com/alanorth/hugo-theme-bootstrap4-blog.git themes/bootstrap4-blog # テーマ側の更新を取り込むとき $ git submodule update --remote --recursive （必要に応じて）テーマごとのセットアップ テーマによっては、外部コンポーネントに依存していて、初期設定が必要なものもあります。 上記の bootstrap4-blog テーマでは、下記のように関連モジュールをインストールしてくださいと説明がありますので、その通りに実行しておきます。</description></item><item><title>カレントディレクトリを気にせずに hugo コマンドを実行する</title><link>https://maku77.github.io/p/wdyk5n7/</link><pubDate>Fri, 25 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/wdyk5n7/</guid><description>hugo コマンドを実行するときに、-s (--source) オプションを使用することで、ソースディレクトリのパスを指定して起動することができます。
例: ~/mysite 以下のソースコードを使って Hugo サーバーを起動する $ hugo server -s ~/mysite 例: ~/mysite 以下の記事を新規作成する $ hugo new sample.md -s ~/mysite 上記の例では、-s ~/mysite というソースディレクトリの指定を末尾に持ってきましたが、hugo の直後に指定しても動作するようです。 これを利用して、下記のようなコマンドエイリアスを作成しておけば、どのディレクトリからでもすぐに記事作成を始められて便利です。
~/.bash_profile alias hugo-mysite=hugo -s ~/mysite 例えば、下記のように使用することができます。
$ hugo-mysite new sample.md # 記事の作成 $ hugo-mysite server # Hugo サーバーを起動 $ hugo-mysite # サイトをビルド（~/mysite/public に出力）</description></item><item><title>ポート番号を指定して Hugo サーバーを起動する</title><link>https://maku77.github.io/p/jj7rcvf/</link><pubDate>Fri, 25 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/jj7rcvf/</guid><description>Hugo サーバーを hugo server コマンドで起動すると、デフォルトでは 1313 ポートを使用する Web サーバが立ち上がります。 ただし、複数の Hugo サーバーを同時に立ち上げようとすると、2 つめ以降の Hugo サーバーにはランダムなポート番号が割り当てられます（おそらく Private ports である 49152～65535 の範囲のポート番号が使用されます）。
任意のポート番号を使うように指定するには、下記のように -p (--port) オプションを使用します。
例: ポート番号 51234 で Hugo サーバーを立ち上げる $ hugo server -p 51234 たくさんの Hugo サーバーを同時に起動するようなケースでは、それぞれのサイトでどのポート番号を使用するかを決めておくとよいでしょう。
例: 3 つの Hugo サーバーを同時に立ち上げる $ hugo server -p 50001 -s ~/mysite1 $ hugo server -p 50002 -s ~/mysite2 $ hugo server -p 50003 -s ~/mysite3 上記のように立ち上げた Web サイトは、それぞれ下記のようなアドレスでアクセスできるようになります。
http://localhost:50001/ http://localhost:50002/ http://localhost:50003/</description></item><item><title>Hugo でドラフトページを作成する</title><link>https://maku77.github.io/p/m2oatdw/</link><pubDate>Thu, 24 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/m2oatdw/</guid><description>ドラフト記事 Hugo のドラフト機能は、未完成の記事ファイルを一時的にほかの記事と同じ場所に保存しておくための機能です。 ページの Front matter 部分に、draft: true という記述があると、そのページはドラフトとして扱われます。
YAML 形式の場合 --- draft: true --- 本文 TOML 形式の場合 +++ draft = true +++ 本文 ドラフトとして作成された記事は、デフォルトでは HTML ファイルとして出力されません。 ドラフト記事も出力するようにするには、hugo コマンドに -D (--buildDrafts) オプションを指定します。
ドラフト記事を出力 $ hugo -D # サイトを生成する場合 $ hugo server -D # サーバーを立ち上げる場合 public ディレクトリに出力されたドラフト記事に注意 hugo コマンドは、デフォルトで public ディレクトリに HTML ファイルなどを出力しますが、このとき、public ディレクトリ内に既に存在するドラフト記事を削除することはありません。
$ hugo -D # ここでドラフト記事も含めて生成される $ hugo # 次にドラフトモード OFF で生成しても、既存のドラフト記事が削除されない Web サイトを公開するときは、ドラフト記事が間違ってアップロードされないように気を付けてください。 記事のアップロード前は、public ディレクトリを削除してから hugo コマンドで再生成すると安全です。</description></item><item><title>Hugo で新規の Web サイトを作成する</title><link>https://maku77.github.io/p/bt5enw6/</link><pubDate>Wed, 23 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/bt5enw6/</guid><description>ここでは、Hugo を使用して、新しく Web サイトを構築するための手順を示します。
図: Hugo で生成したサイトの例 サイトのスケルトンを生成する まずは Hugo をインストールして、hugo コマンドを使用できる状態にしてください。 下記のように hugo new site コマンドを使用して、Web サイトのひな型を作成することができます。
新しい Web サイト (my_site) を作成する $ hugo new site my_site Congratulations! Your new Hugo site is created in C:\Users\maku\my_site. Just a few more steps and you&amp;#39;re ready to go: 1. Download a theme into the same-named folder. Choose a theme from https://themes.gohugo.io/, or create your own with the &amp;#34;hugo new theme &amp;lt;THEMENAME&amp;gt;&amp;#34; command.</description></item><item><title>Hugo とは／Hugo をインストールする</title><link>https://maku77.github.io/p/r8ufyk5/</link><pubDate>Wed, 23 Aug 2017 00:00:00 +0000</pubDate><guid>https://maku77.github.io/p/r8ufyk5/</guid><description>Hugo とは Hugo (https://gohugo.io/) Hugo は Jekyll や Middleman と同様の静的サイトジェネレータです。 Markdown 形式などで記述したコンテンツから、HTML ファイルを作成してくれます。
Hugo は Google の Go 言語 で作成されており、他のサイトジェネレータに比べて 動作が非常に速い という特徴を持っています（それに比べて Jekyll は特に遅いですね ^^;）。 公式サイトでも動作の高速さをアピールしており、今後もその方針は変わらなさそうなので安心です。
また、インストールに関しても、他の（Ruby 製や Python 製の）サイトジェネレータは、さまざまな外部モジュールをインストールしなければいけないので時間がかかったりすることがありますが、Hugo であれば一瞬で終わります。 例えば、Windows の実行環境を構築する場合も、hugo.exe という１ファイルを置くだけで終わります。 LiveReload などの機能もデフォルトで組み込まれており、立ち上げまでの導入が非常にシンプルです。
Hugo のインストール Mac OS の場合 Mac の場合は、Homebrew (brew) で簡単に Hugo をインストール できます。
$ brew install hugo すでに Hugo がインストールされている状態で、Hugo を最新バージョンに更新 したいときは次のようにします。
$ brew upgrade hugo 現在インストールされている Hugo のバージョン は次のように確認できます。
$ hugo version Windows の場合 Windows の場合は、Hugo の Releases ページから zip アーカイブ（hugo_extended_0.</description></item></channel></rss>
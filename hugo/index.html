<!doctype html><html lang=ja-jp><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>まくまく Hugo ノート - 天才まくまくノート</title>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X5962TDYXS"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X5962TDYXS")</script><link rel=icon sizes="16x16 32x32 48x48 64x64" href=../assets/img/favicon/favicon.ico><link rel=icon sizes=192x192 href=../assets/img/favicon/192x192.png><link rel=apple-touch-icon href=../assets/img/favicon/180x180.png><meta name=twitter:card content="summary"><meta property="og:site_name" content="天才まくまくノート"><meta property="og:title" content="Hugo"><meta property="og:type" content="article"><meta property="og:url" content="https://maku77.github.io/hugo/"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://maku77.github.io/img/site-logo.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:description" content="高速な静的サイトジェネレータ Hugo の使い方です。
Go 言語に関する記事はこちらへ分離しました。
はじめに 

Hugo とは／Hugo をインストールする
Hugo で新規の Web サイトを作成する

記事の作成 

Hugo で記事を作成する
Hugo でドラフトページを作成する
Hugo でドラフトページの一覧を簡単に確認できるようにする
Hugo のテーマを設定する
Hugo で独自のテーマを作成する
Hugo Themes（Hugo テーマの一覧サイト）

hugo コマンドと設定ファイル
hugo コマンド 

カレントディレクトリを気にせずに hugo コマンドを実行する (hugo server -s) 
ポート番号を指定して Hugo サーバーを起動する (hugo server -p)
Hugo サーバーで記事生成のキャッシュを無効にする (hugo server --ignoreCache)
複数の Hugo サーバーを 1 つのコマンドプロンプト上で立ち上げる
複数の Hugo サイトで同じテーマディレクトリを参照する (themesDir)
使用していないテンプレートやショートコードを見つける (hugo --printUnusedTemplates)

設定ファイル (config) 

日本語を正しく扱えるようにしてページサマリーが長くなるのを防ぐ (hasCJKLanguage, isCJKLanguage)
コンフィグファイルに設定した情報を参照する
Google アナリティクス用のトラッキングコードを埋め込む (googleAnalytics)
ページ内に Tex 形式の数式を埋め込めるようにする (MathJax)
リンクをページからの相対パスで出力するようにする (relativeurls)

Hugo Modules

Hugo Modules の仕組みで Hugo サイト用のコンテンツを分割して管理する

ショートコード (Shortcode) 
ショートコードの使い方と作り方

ショートコードで本文内に HTML スニペットを埋め込む
独自のショートコードを作成する
ショートコードの中からフロントマターのパラメータを参照する ($.Page.Params)
ショートコードの中から設定ファイルのパラメータを参照する ($.Site.Params)
ソースコードをハイライト表示する (highlight)
ショートコードをエスケープ処理してそのまま表示する
あるショートコードが使われている場合のみ JavaScript を読み込む (.HasShortcode)
ショートコードで本文とパラメーターの有無で処理を分岐する

ショートコードの例

ローカルサーバーで動作させているとき（開発時）のみ内容を出力する private ショートコードを作成する
SVG ファイルをインラインで埋め込む svg ショートコードを作成する
クリックで開閉する accordion ショートコードを作成する
Youtube の動画を表示する youtube ショートコード（Hugo 組み込み）

テンプレート
テンプレートによるレイアウトの基本 

レイアウト用のテンプレートの種類を理解する
記事ファイルのフロントマターで使用するレイアウトを制御する (type, layout)
サイトのヘッダーとフッターをパーシャルファイルに分離する (partials/header.html, partials/footer.html)
ベーステンプレートを作成して、各種テンプレートの基本構成を統一する (baseof.html)

Hugo のテンプレート文法 

Hugo テンプレート内にコメントを記述する ({{/* ... */}})
Hugo テンプレート内で変数を扱う ({{ $x := ... }})
Hugo テンプレート内で配列（スライス）変数を扱う (slice, index, range)
Hugo テンプレート内でマップ（辞書）変数を扱う (dict, index, range)
Hugo テンプレート内で if や with で分岐処理する
Hugo テンプレートで数値によるループ処理を行う (range, seq)
Hugo テンプレート内で define による部分テンプレート定義を行う（関数もどき）
Hugo のパーシャルテンプレートから値を返す（関数化）(return)

セクションとページリスト 

Hugo のセクション機能の基本（記事を階層化する）
セクションテンプレート (section.html) の中でセクションのタイトルを表示する
セクションの階層構造を取得する (.CurrentSection、.Parent、.Sections)
ページタイトルに自動でセクションプレフィックスを付ける
ページの階層構造を取得する関数を作成する (get-hierarchy)
一覧表示のサンプルコード 

サイト内の全ページの一覧を表示する (.Site.Pages)
サイト内の全セクションの一覧を表示する (.Site.Sections)
カレントセクション直下のページ／セクションの一覧を表示する
セクションを持たない記事ページ（ルートの記事ページ）の一覧を表示する (.Site.Home.RegularPages)
サイト内の全ページの一覧をセクションの階層構造に従って表示する
サイドバー用のページツリーを表示する（現在表示しているページを考慮した階層表示）
最近更新された記事（新着記事）のリストを表示する
ページリスト（記事一覧）に列挙されないページを作る (_build.list)
セクションページでいろいろな方法でページソートする (.ByDate, .ByTitle, .ByWeight)



タクソノミー（タグとカテゴリー） 

タクソノミーの基本（タグやカテゴリなど）
タクソノミー関連のテンプレートを定義する
サイト全体のターム一覧（タグ一覧）を表示する
記事ページに付けられたターム一覧（タグ一覧）を表示する
記事ページに複数のターム（カテゴリ）を割り当てた場合にエラーにする

data ディレクトリ

全ページから参照できるデータを用意する（data ディレクトリ）
参照するデータファイルをショートコードのパラメータで切り替える

ページャー（ページネーター）

ページャー（ページネーター）で複数の記事を切り替えながら表示できるようにする

その他

パンくずリストを表示する
JSON-LD のパンくずリストを出力する（SEO 対策）
各ページに目次を表示する (.TableOfContents)
ホームページの Page オブジェクトを取得する
各種ページにおいて .Kind や .IsPage、.IsSection、.IsNode の値がどうなるかの一覧
次のページ、前のページへのリンクを表示する
ファイルが存在する場合のみ処理するコードを記述する (fileExists)
Markdown (.md) ファイルのパス情報を取得する
Markdown (.md) ファイルを VS Code で開くリンクを表示する
Markdown ファイルに本文が記述されていない場合だけ特別な出力をする
テンプレートの中で絵文字を使用する (emojify)

Hugo 応用

図／画像

画像ファイルを Markdown ファイルと同じディレクトリに置く (Page Bundle)
大きな画像ファイルから自動的に小さなサムネイル画像を生成する (Image Processing)
favicon.ico をサイトのルートに置く (static)
mermaid.js で Markdown 中に UML 図を埋め込む


検索／サーチエンジン

全文検索（インクリメンタルサーチ）の機能を付ける
Google カスタム検索を設置して記事を検索できるようにする
サーチエンジン用に robots.txt や sitemap.xml ファイルを配置する


アドレス／リンク

サイト構造を変えてもページの URL が変わらないようにする (Permalink)
ページ内リンク（アンカー）を張る
「このページを編集 (Edit this page)」のリンクを表示する
新しいページや別のサイトへ自動でリダイレクトする (aliases, redirectTo)


Sass/SCSS スタイルシートを使用する
特定の記事を常にリスト上方に表示する（weight プロパティ）
Python で Markdown ファイルのフロントマターの記述が正しいかチェックする
Facebook や Twitter の SNS で URL をシェアするときの表示設定 (OGP: Open Graph Protocol)
hugo deploy コマンドで Azure などのクラウドサービス上にデプロイする
Hugo のテンプレートやショートコードでランダムな文字列を生成する
記事ページで TypeScript ファイルや NPM パッケージをインクルードして使用する

トラブルシューティング

ドラフト指定したセクションが公開されてしまう
Markdown ファイルに記述した HTML コードが削除されてしまう
Hugo サーバーで記事の変更内容が反映されない (hugo server --ignoreCache)
"><meta property="fb:app_id" content="447708168769292"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6317852277883092" crossorigin=anonymous></script><link rel=stylesheet href=../css/mm/all.min.03f769de5588c124e5b7baaab243e1f44bc5ccf6139987424d26c43c9491512f.css><link rel=stylesheet href=../css/all.min.a1be5c135c2d519bef49b4b099f4964b99ee878b81b26e9bac24497d0a73c31f.css></head><body><div class=l-pageHeader><header class=header><a href=./><img class=header__icon src=../hugo/logo-hugo.png><div class=header__right><div class=header__categoryTitle><a href=./>まくまく Hugo ノート</a></div></div></a></header></div><div class=l-withSidebar><div class=l-withSidebar__sidebarLeft><style>#tocStub{position:-webkit-sticky;position:sticky;top:2rem;margin-top:2rem;line-height:1.5;max-height:calc(100vh - 4rem);overflow-y:auto;-webkit-overflow-scrolling:touch}#tocStub ul{font-size:.9em;list-style:none;padding:0;border-top:solid 1px #ccc}#tocStub li{border:solid 1px #ccc;border-right:none;margin-top:-1px}#tocStub a{color:#666;padding:.6em .3em .6em .5em;display:block;text-decoration:none;font-weight:400}.level-2{margin-left:.8em}.level-3{padding-left:1.6em}</style><div id=tocStub></div><script>document.addEventListener("DOMContentLoaded",()=>{function e(e){const t=document.createElement("a");return t.setAttribute("id",e),t}function t(t,n){n.parentNode.insertBefore(e(t),n)}function n(e,t,n){const s=document.createElement("li");return s.classList.add("level-"+e),s.innerHTML='<a href="#'+t+'">'+n+"</a>",s}function s(){const e=document.createElement("ul");return document.querySelectorAll("h2, h3").forEach((s,o)=>{const i="section-"+o;t(i,s);const a=s.tagName.charAt(1)-1;e.appendChild(n(a,i,s.textContent))}),e}document.getElementById("tocStub").appendChild(s())})</script></div><div class=l-withSidebar__content><article class=article itemscope itemtype=https://schema.org/BlogPosting><div class=article__header><div class=breadcrumb><a href=../>&#x1F3E0;HOME</a> > <a href=../hugo/>まくまく Hugo ノート</a></div><div style=text-align:right><div class=mm-snsButtons><a rel="nofollow noopener noreferrer" target=_blank href="https://twitter.com/intent/post?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#000" role="img" viewBox="0 0 24 24"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932zM17.61 20.644h2.039L6.486 3.24H4.298z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://www.threads.net/intent/post?text=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#000" role="img" viewBox="0 0 24 24"><title>Threads</title><path d="M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18.0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853.0 013.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844.0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65zm1.003-11.69c-.242.0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5.0 00-2.215-.221z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://www.facebook.com/share.php?u=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#0866ff" role="img" viewBox="0 0 24 24"><title>Facebook</title><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401.0.955.042 1.468.103a8.68 8.68.0 011.141.195v3.325a8.623 8.623.0 00-.653-.036 26.805 26.805.0 00-.733-.009c-.707.0-1.259.096-1.675.309a1.686 1.686.0 00-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://timeline.line.me/social-plugin/share?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f&text=Hugo%20-%20%e5%a4%a9%e6%89%8d%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%e3%83%8e%e3%83%bc%e3%83%88"><span class=mm-snsButtons__icon><svg fill="#00c300" role="img" viewBox="0 0 24 24"><title>LINE</title><path d="M19.365 9.863c.349.0.63.285.63.631.0.345-.281.63-.63.63H17.61v1.125h1.755c.349.0.63.283.63.63.0.344-.281.629-.63.629h-2.386c-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346.0.627.285.627.63.0.349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211.0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346.0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195.0.375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345.0.63.285.63.63v4.771zm-5.741.0c0 .344-.282.629-.631.629-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346.0.628.285.628.63v4.771zm-2.466.629H4.917c-.345.0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348.0.63.285.63.63v4.141h1.756c.348.0.629.283.629.63.0.344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943.0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://b.hatena.ne.jp/entry?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#00a4de" role="img" viewBox="0 0 24 24"><title>Hatena Bookmark</title><path d="M20.47.0C22.42.0 24 1.58 24 3.53v16.94c0 1.95-1.58 3.53-3.53 3.53H3.53C1.58 24 0 22.42.0 20.47V3.53C0 1.58 1.58.0 3.53.0h16.94zm-3.705 14.47c-.78.0-1.41.63-1.41 1.41s.63 1.414 1.41 1.414 1.41-.645 1.41-1.425-.63-1.41-1.41-1.41zM8.61 17.247c1.2.0 2.056-.042 2.58-.12.526-.084.976-.222 1.32-.412.45-.232.78-.564 1.02-.99s.36-.915.36-1.48c0-.78-.21-1.403-.63-1.87-.42-.48-.99-.734-1.74-.794.66-.18 1.156-.45 1.456-.81.315-.344.465-.824.465-1.424.0-.48-.103-.885-.3-1.26-.21-.36-.493-.645-.883-.87-.345-.195-.735-.315-1.215-.405-.464-.074-1.29-.12-2.474-.12H5.654v10.486H8.61zm.736-4.185c.705.0 1.185.088 1.44.262.27.18.39.495.39.93.0.405-.135.69-.42.855-.27.18-.765.254-1.44.254H8.31v-2.297h1.05zm8.656.706v-7.06h-2.46v7.06H18zM8.925 9.08c.71.0 1.185.08 1.432.24.245.16.367.435.367.83.0.38-.13.646-.39.804-.265.154-.747.232-1.452.232h-.57V9.08h.615z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://getpocket.com/edit?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f&title=Hugo%20-%20%e5%a4%a9%e6%89%8d%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%e3%83%8e%e3%83%bc%e3%83%88"><span class=mm-snsButtons__icon><svg fill="#ef3f56" role="img" viewBox="0 0 24 24"><title>Pocket</title><path d="M18.813 10.259l-5.646 5.419c-.32.305-.73.458-1.141.458-.41.0-.821-.153-1.141-.458l-5.646-5.419c-.657-.628-.677-1.671-.049-2.326.63-.657 1.671-.679 2.325-.05l4.511 4.322 4.517-4.322c.66-.631 1.697-.607 2.326.049.631.645.615 1.695-.045 2.326l-.011.001zm5.083-7.546c-.299-.858-1.125-1.436-2.041-1.436H2.179c-.9.0-1.717.564-2.037 1.405-.094.25-.142.511-.142.774v7.245l.084 1.441c.348 3.277 2.047 6.142 4.682 8.139.045.036.094.07.143.105l.03.023c1.411 1.03 2.989 1.728 4.694 2.072.786.158 1.591.24 2.389.24.739.0 1.481-.067 2.209-.204.088-.029.176-.045.264-.06.023.0.049-.015.074-.029 1.633-.36 3.148-1.036 4.508-2.025l.029-.031.135-.105c2.627-1.995 4.324-4.862 4.686-8.148L24 10.678V3.445c0-.251-.031-.5-.121-.742l.017.01z"/></svg></span></a></div></div></div><div class="article__body article__body-categoryIndex"><p>高速な静的サイトジェネレータ Hugo の使い方です。
<a href=../go/>Go 言語に関する記事はこちら</a>へ分離しました。</p><h2 id=はじめに----basic--->はじめに</h2><ul><li><a href=../p/r8ufyk5/>Hugo とは／Hugo をインストールする</a></li><li><a href=../p/bt5enw6/>Hugo で新規の Web サイトを作成する</a></li></ul><h2 id=記事の作成----basic--->記事の作成</h2><ul><li><a href=../p/q7sdwgy/>Hugo で記事を作成する</a></li><li><a href=../p/m2oatdw/>Hugo でドラフトページを作成する</a></li><li><a href=../p/qpcvfzi/>Hugo でドラフトページの一覧を簡単に確認できるようにする</a></li><li><a href=../p/h2cku5d/>Hugo のテーマを設定する</a></li><li><a href=../p/s4qbuez/>Hugo で独自のテーマを作成する</a></li><li><a href=https://themes.gohugo.io/>Hugo Themes（Hugo テーマの一覧サイト）</a></li></ul><h2 id=hugo-コマンドと設定ファイル>hugo コマンドと設定ファイル</h2><h3 id=hugo-コマンド----cli--->hugo コマンド</h3><ul><li><a href=../p/wdyk5n7/>カレントディレクトリを気にせずに hugo コマンドを実行する (<code>hugo server -s</code>)</a></li><li><a href=../p/jj7rcvf/>ポート番号を指定して Hugo サーバーを起動する (<code>hugo server -p</code>)</a></li><li><a href=../p/taxh3m7/>Hugo サーバーで記事生成のキャッシュを無効にする (<code>hugo server --ignoreCache</code>)</a></li><li><a href=../p/yg4o9rb/>複数の Hugo サーバーを 1 つのコマンドプロンプト上で立ち上げる</a></li><li><a href=../p/4m7gqfx/>複数の Hugo サイトで同じテーマディレクトリを参照する (<code>themesDir</code>)</a></li><li><a href=../p/st6fpz9/>使用していないテンプレートやショートコードを見つける (<code>hugo --printUnusedTemplates</code>)</a></li></ul><h3 id=設定ファイル-config----config--->設定ファイル (config)</h3><ul><li><a href=../p/rqcwgyj/>日本語を正しく扱えるようにしてページサマリーが長くなるのを防ぐ (<code>hasCJKLanguage</code>, <code>isCJKLanguage</code>)</a></li><li><a href=../p/5m9tdwg/>コンフィグファイルに設定した情報を参照する</a></li><li><a href=../p/zxk6pat/>Google アナリティクス用のトラッキングコードを埋め込む (<code>googleAnalytics</code>)</a></li><li><a href=../p/dsfzi4n/>ページ内に Tex 形式の数式を埋め込めるようにする (MathJax)</a></li><li><a href=../p/32n9scv/>リンクをページからの相対パスで出力するようにする (<code>relativeurls</code>)</a></li></ul><h2 id=hugo-modules>Hugo Modules</h2><ul><li><a href=../p/bqar8o6/>Hugo Modules の仕組みで Hugo サイト用のコンテンツを分割して管理する</a></li></ul><h2 id=ショートコード-shortcode----shortcode--->ショートコード (Shortcode)</h2><h3 id=ショートコードの使い方と作り方>ショートコードの使い方と作り方</h3><ul><li><a href=../p/tsfzj4n/>ショートコードで本文内に HTML スニペットを埋め込む</a></li><li><a href=../p/ttfyk5o/>独自のショートコードを作成する</a></li><li><a href=../p/t4sdxi3/>ショートコードの中からフロントマターのパラメータを参照する (<code>$.Page.Params</code>)</a></li><li><a href=../p/53patex/>ショートコードの中から設定ファイルのパラメータを参照する (<code>$.Site.Params</code>)</a></li><li><a href=../p/gxk6qat/>ソースコードをハイライト表示する (highlight)</a></li><li><a href=../p/9tg2m7q/>ショートコードをエスケープ処理してそのまま表示する</a></li><li><a href=../p/3j6qate/>あるショートコードが使われている場合のみ JavaScript を読み込む (<code>.HasShortcode</code>)</a></li><li><a href=../p/b9jivoi/>ショートコードで本文とパラメーターの有無で処理を分岐する</a></li></ul><h3 id=ショートコードの例>ショートコードの例</h3><ul><li><a href=../p/jbr6kzd/>ローカルサーバーで動作させているとき（開発時）のみ内容を出力する <code>private</code> ショートコードを作成する</a></li><li><a href=../p/kyn8rcv/>SVG ファイルをインラインで埋め込む <code>svg</code> ショートコードを作成する</a></li><li><a href=../p/w5gs4ep/>クリックで開閉する <code>accordion</code> ショートコードを作成する</a></li><li><a href=https://gohugo.io/content-management/shortcodes/#youtube>Youtube の動画を表示する <code>youtube</code> ショートコード（Hugo 組み込み）</a></li></ul><h2 id=テンプレート>テンプレート</h2><h3 id=テンプレートによるレイアウトの基本----template--->テンプレートによるレイアウトの基本</h3><ul><li><a href=../p/zg4n7q9/>レイアウト用のテンプレートの種類を理解する</a></li><li><a href=../p/m2n8rbu/>記事ファイルのフロントマターで使用するレイアウトを制御する (<code>type</code>, <code>layout</code>)</a></li><li><a href=../p/wvi3n7q/>サイトのヘッダーとフッターをパーシャルファイルに分離する (<code>partials/header.html</code>, <code>partials/footer.html</code>)</a></li><li><a href=../p/bbxj5pa/>ベーステンプレートを作成して、各種テンプレートの基本構成を統一する (<code>baseof.html</code>)</a></li></ul><h3 id=hugo-のテンプレート文法----template--->Hugo のテンプレート文法</h3><ul><li><a href=../p/5zwytgx/>Hugo テンプレート内にコメントを記述する (<code>{{/* ... */}}</code>)</a></li><li><a href=../p/y39gzkc/>Hugo テンプレート内で変数を扱う (<code>{{ $x := ... }}</code>)</a></li><li><a href=../p/7bvjywy/>Hugo テンプレート内で配列（スライス）変数を扱う (<code>slice</code>, <code>index</code>, <code>range</code>)</a></li><li><a href=../p/yhqogz6/>Hugo テンプレート内でマップ（辞書）変数を扱う (<code>dict</code>, <code>index</code>, <code>range</code>)</a></li><li><a href=../p/ewoqwrk/>Hugo テンプレート内で <code>if</code> や <code>with</code> で分岐処理する</a></li><li><a href=../p/8vm6xqm/>Hugo テンプレートで数値によるループ処理を行う (<code>range</code>, <code>seq</code>)</a></li><li><a href=../p/pkww45p/>Hugo テンプレート内で <code>define</code> による部分テンプレート定義を行う（関数もどき）</a></li><li><a href=../p/4anjern/>Hugo のパーシャルテンプレートから値を返す（関数化）(<code>return</code>)</a></li></ul><h3 id=セクションとページリスト----template--->セクションとページリスト</h3><ul><li><a href=../p/8ihz7es/>Hugo のセクション機能の基本（記事を階層化する）</a></li><li><a href=../p/mn4ji9o/>セクションテンプレート (<code>section.html</code>) の中でセクションのタイトルを表示する</a></li><li><a href=../p/8vrj4ui/>セクションの階層構造を取得する (<code>.CurrentSection</code>、<code>.Parent</code>、<code>.Sections</code>)</a></li><li><a href=../p/dunigdz/>ページタイトルに自動でセクションプレフィックスを付ける</a></li><li><a href=../p/v9t62ux/>ページの階層構造を取得する関数を作成する (<code>get-hierarchy</code>)</a></li><li>一覧表示のサンプルコード<ul><li><a href=../p/sgrjpfu/>サイト内の全ページの一覧を表示する (<code>.Site.Pages</code>)</a></li><li><a href=../p/vczuozw/>サイト内の全セクションの一覧を表示する (<code>.Site.Sections</code>)</a></li><li><a href=../p/pgub54h/>カレントセクション直下のページ／セクションの一覧を表示する</a></li><li><a href=../p/4sxmnfi/>セクションを持たない記事ページ（ルートの記事ページ）の一覧を表示する (<code>.Site.Home.RegularPages</code>)</a></li><li><a href=../p/xuwd7tn/>サイト内の全ページの一覧をセクションの階層構造に従って表示する</a></li><li><a href=../p/7o7ymst/>サイドバー用のページツリーを表示する（現在表示しているページを考慮した階層表示）</a></li><li><a href=../p/pocxi4n/>最近更新された記事（新着記事）のリストを表示する</a></li><li><a href=../p/4ziyhxe/>ページリスト（記事一覧）に列挙されないページを作る (<code>_build.list</code>)</a></li><li><a href=../p/9gjnqtw/>セクションページでいろいろな方法でページソートする (<code>.ByDate</code>, <code>.ByTitle</code>, <code>.ByWeight</code>)</a></li></ul></li></ul><h3 id=タクソノミータグとカテゴリー----taxonomy--->タクソノミー（タグとカテゴリー）</h3><ul><li><a href=../p/mtfmaxr/>タクソノミーの基本（タグやカテゴリなど）</a></li><li><a href=../p/aqchnnq/>タクソノミー関連のテンプレートを定義する</a></li><li><a href=../p/tfk4tdg/>サイト全体のターム一覧（タグ一覧）を表示する</a></li><li><a href=../p/topd7uy/>記事ページに付けられたターム一覧（タグ一覧）を表示する</a></li><li><a href=../p/5v7o2xp/>記事ページに複数のターム（カテゴリ）を割り当てた場合にエラーにする</a></li></ul><h3 id=data-ディレクトリ>data ディレクトリ</h3><ul><li><a href=../p/5ru4kte/>全ページから参照できるデータを用意する（<code>data</code> ディレクトリ）</a></li><li><a href=../p/jbi9ojq/>参照するデータファイルをショートコードのパラメータで切り替える</a></li></ul><h3 id=ページャーページネーター>ページャー（ページネーター）</h3><ul><li><a href=../p/8ogzaxd/>ページャー（ページネーター）で複数の記事を切り替えながら表示できるようにする</a></li></ul><h3 id=その他>その他</h3><ul><li><a href=../p/vemn3c4/>パンくずリストを表示する</a></li><li><a href=../p/5fzgwdt/>JSON-LD のパンくずリストを出力する（SEO 対策）</a></li><li><a href=../p/x9tbr8o/>各ページに目次を表示する (<code>.TableOfContents</code>)</a></li><li><a href=../p/ffr2bku/>ホームページの <code>Page</code> オブジェクトを取得する</a></li><li><a href=../p/co8p6n4/>各種ページにおいて <code>.Kind</code> や <code>.IsPage</code>、<code>.IsSection</code>、<code>.IsNode</code> の値がどうなるかの一覧</a></li><li><a href=../p/sc9t737/>次のページ、前のページへのリンクを表示する</a></li><li><a href=../p/q4o6n4k/>ファイルが存在する場合のみ処理するコードを記述する (<code>fileExists</code>)</a></li><li><a href=../p/8env4bi/>Markdown (.md) ファイルのパス情報を取得する</a></li><li><a href=../p/9hkprvx/>Markdown (.md) ファイルを VS Code で開くリンクを表示する</a></li><li><a href=../p/7m6n4j2/>Markdown ファイルに本文が記述されていない場合だけ特別な出力をする</a></li><li><a href=../p/88e7tiz/>テンプレートの中で絵文字を使用する (<code>emojify</code>)</a></li></ul><h2 id=hugo-応用>Hugo 応用</h2><ul><li>図／画像<ul><li><a href=../p/9n8p6n4/>画像ファイルを Markdown ファイルと同じディレクトリに置く (Page Bundle)</a></li><li><a href=../p/mxhzgwd/>大きな画像ファイルから自動的に小さなサムネイル画像を生成する (Image Processing)</a></li><li><a href=../p/vu7hr2b/>favicon.ico をサイトのルートに置く (static)</a></li><li><a href=../p/xg3n7qa/>mermaid.js で Markdown 中に UML 図を埋め込む</a></li></ul></li><li>検索／サーチエンジン<ul><li><a href=../p/p4n5m3i/>全文検索（インクリメンタルサーチ）の機能を付ける</a></li><li><a href=../p/n4o7o6m/>Google カスタム検索を設置して記事を検索できるようにする</a></li><li><a href=../p/qr4eox7/>サーチエンジン用に robots.txt や sitemap.xml ファイルを配置する</a></li></ul></li><li>アドレス／リンク<ul><li><a href=../p/u9r9p7n/>サイト構造を変えてもページの URL が変わらないようにする (Permalink)</a></li><li><a href=../p/kmv4bjr/>ページ内リンク（アンカー）を張る</a></li><li><a href=../p/vit4ckt/>「このページを編集 (Edit this page)」のリンクを表示する</a></li><li><a href=../p/oj3izfu/>新しいページや別のサイトへ自動でリダイレクトする (<code>aliases</code>, <code>redirectTo</code>)</a></li></ul></li><li><a href=../p/k7jv7hs/>Sass/SCSS スタイルシートを使用する</a></li><li><a href=../p/utmg42x/>特定の記事を常にリスト上方に表示する（<code>weight</code> プロパティ）</a></li><li><a href=../p/bes7iu7/>Python で Markdown ファイルのフロントマターの記述が正しいかチェックする</a></li><li><a href=../p/w7r8p6m/>Facebook や Twitter の SNS で URL をシェアするときの表示設定 (OGP: Open Graph Protocol)</a></li><li><a href=../p/2ycmvbn/>hugo deploy コマンドで Azure などのクラウドサービス上にデプロイする</a></li><li><a href=../p/9qexh2q/>Hugo のテンプレートやショートコードでランダムな文字列を生成する</a></li><li><a href=../p/3adgjnq/>記事ページで TypeScript ファイルや NPM パッケージをインクルードして使用する</a></li></ul><h2 id=トラブルシューティング>トラブルシューティング</h2><ul><li><a href=../p/ynv4ago/>ドラフト指定したセクションが公開されてしまう</a></li><li><a href=../p/mju5eox/>Markdown ファイルに記述した HTML コードが削除されてしまう</a></li><li><a href=../p/taxh3m7/>Hugo サーバーで記事の変更内容が反映されない (<code>hugo server --ignoreCache</code>)</a></li></ul></div><div class=article__footer><div style=text-align:right><div class=mm-snsButtons><a rel="nofollow noopener noreferrer" target=_blank href="https://twitter.com/intent/post?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#000" role="img" viewBox="0 0 24 24"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932zM17.61 20.644h2.039L6.486 3.24H4.298z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://www.threads.net/intent/post?text=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#000" role="img" viewBox="0 0 24 24"><title>Threads</title><path d="M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18.0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853.0 013.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844.0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65zm1.003-11.69c-.242.0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5.0 00-2.215-.221z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://www.facebook.com/share.php?u=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#0866ff" role="img" viewBox="0 0 24 24"><title>Facebook</title><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401.0.955.042 1.468.103a8.68 8.68.0 011.141.195v3.325a8.623 8.623.0 00-.653-.036 26.805 26.805.0 00-.733-.009c-.707.0-1.259.096-1.675.309a1.686 1.686.0 00-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://timeline.line.me/social-plugin/share?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f&text=Hugo%20-%20%e5%a4%a9%e6%89%8d%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%e3%83%8e%e3%83%bc%e3%83%88"><span class=mm-snsButtons__icon><svg fill="#00c300" role="img" viewBox="0 0 24 24"><title>LINE</title><path d="M19.365 9.863c.349.0.63.285.63.631.0.345-.281.63-.63.63H17.61v1.125h1.755c.349.0.63.283.63.63.0.344-.281.629-.63.629h-2.386c-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346.0.627.285.627.63.0.349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211.0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346.0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195.0.375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345.0.63.285.63.63v4.771zm-5.741.0c0 .344-.282.629-.631.629-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346.0.628.285.628.63v4.771zm-2.466.629H4.917c-.345.0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348.0.63.285.63.63v4.141h1.756c.348.0.629.283.629.63.0.344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943.0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://b.hatena.ne.jp/entry?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f"><span class=mm-snsButtons__icon><svg fill="#00a4de" role="img" viewBox="0 0 24 24"><title>Hatena Bookmark</title><path d="M20.47.0C22.42.0 24 1.58 24 3.53v16.94c0 1.95-1.58 3.53-3.53 3.53H3.53C1.58 24 0 22.42.0 20.47V3.53C0 1.58 1.58.0 3.53.0h16.94zm-3.705 14.47c-.78.0-1.41.63-1.41 1.41s.63 1.414 1.41 1.414 1.41-.645 1.41-1.425-.63-1.41-1.41-1.41zM8.61 17.247c1.2.0 2.056-.042 2.58-.12.526-.084.976-.222 1.32-.412.45-.232.78-.564 1.02-.99s.36-.915.36-1.48c0-.78-.21-1.403-.63-1.87-.42-.48-.99-.734-1.74-.794.66-.18 1.156-.45 1.456-.81.315-.344.465-.824.465-1.424.0-.48-.103-.885-.3-1.26-.21-.36-.493-.645-.883-.87-.345-.195-.735-.315-1.215-.405-.464-.074-1.29-.12-2.474-.12H5.654v10.486H8.61zm.736-4.185c.705.0 1.185.088 1.44.262.27.18.39.495.39.93.0.405-.135.69-.42.855-.27.18-.765.254-1.44.254H8.31v-2.297h1.05zm8.656.706v-7.06h-2.46v7.06H18zM8.925 9.08c.71.0 1.185.08 1.432.24.245.16.367.435.367.83.0.38-.13.646-.39.804-.265.154-.747.232-1.452.232h-.57V9.08h.615z"/></svg>
</span></a><a rel="nofollow noopener noreferrer" target=_blank href="https://getpocket.com/edit?url=https%3a%2f%2fmaku77.github.io%2fhugo%2f&title=Hugo%20-%20%e5%a4%a9%e6%89%8d%e3%81%be%e3%81%8f%e3%81%be%e3%81%8f%e3%83%8e%e3%83%bc%e3%83%88"><span class=mm-snsButtons__icon><svg fill="#ef3f56" role="img" viewBox="0 0 24 24"><title>Pocket</title><path d="M18.813 10.259l-5.646 5.419c-.32.305-.73.458-1.141.458-.41.0-.821-.153-1.141-.458l-5.646-5.419c-.657-.628-.677-1.671-.049-2.326.63-.657 1.671-.679 2.325-.05l4.511 4.322 4.517-4.322c.66-.631 1.697-.607 2.326.049.631.645.615 1.695-.045 2.326l-.011.001zm5.083-7.546c-.299-.858-1.125-1.436-2.041-1.436H2.179c-.9.0-1.717.564-2.037 1.405-.094.25-.142.511-.142.774v7.245l.084 1.441c.348 3.277 2.047 6.142 4.682 8.139.045.036.094.07.143.105l.03.023c1.411 1.03 2.989 1.728 4.694 2.072.786.158 1.591.24 2.389.24.739.0 1.481-.067 2.209-.204.088-.029.176-.045.264-.06.023.0.049-.015.074-.029 1.633-.36 3.148-1.036 4.508-2.025l.029-.031.135-.105c2.627-1.995 4.324-4.862 4.686-8.148L24 10.678V3.445c0-.251-.031-.5-.121-.742l.017.01z"/></svg></span></a></div></div><div class=breadcrumb><a href=../>&#x1F3E0;HOME</a> > <a href=../hugo/>まくまく Hugo ノート</a></div></div></article><script>const SIDEBAR_HIDE_THRESHOLD=800,SIDEBAR_WIDTH=250,OFFSET=10;let w=window.innerWidth;w>=SIDEBAR_HIDE_THRESHOLD&&(w-=SIDEBAR_WIDTH),w-=OFFSET,w>=728?rakuten_size="728x200":w>=600?rakuten_size="600x200":w>=468?rakuten_size="468x160":w>=336?rakuten_size="336x280":w>=300?rakuten_size="300x250":w>=250?rakuten_size="250x250":rakuten_size="200x350",rakuten_design="slide",rakuten_affiliateId="1239b074.74af6526.1239b075.bc72ef6e",rakuten_items="ctsmatch",rakuten_genreId=0,rakuten_target="_blank",rakuten_theme="gray",rakuten_border="off",rakuten_auto_mode="on",rakuten_genre_title="off",rakuten_recommend="on",rakuten_txtColor="333333",rakuten_moverColor="30C030",rakuten_bgColor="FFFFFF",rakuten_captionColor="333333"</script><script src=https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js></script></div><div class=l-withSidebar__sidebarRight><nav class=navigation><div class=navigation__header>カテゴリ一覧</div><ul><li><a class=navigation__item href=https://maku77.github.io/memo/>いろいろ</a><li><a class=navigation__item href=https://maku77.github.io/android/>Android</a><li><a class=navigation__item href=https://maku.blog/p/8t6hr3d/>Ansible</a><li><a class=navigation__item href=https://maku77.github.io/blender/>Blender</a><li><a class=navigation__item href=https://maku77.github.io/cpp/>C/C++</a><li><a class=navigation__item href=https://maku77.github.io/docker/>Docker</a><li><a class=navigation__item href=https://maku77.github.io/git/>Git</a><li><a class=navigation__item href=https://maku77.github.io/go/>Go言語</a><li><a class=navigation__item href=https://maku77.github.io/gradle/>Gradle</a><li><a class=navigation__item href=https://maku77.github.io/web/>HTML/CSS</a><li><a class="navigation__item navigation__item--focused" href=https://maku77.github.io/hugo/>Hugo</a><li><a class=navigation__item href=https://maku77.github.io/java/>Java</a><li><a class=navigation__item href=https://maku77.github.io/js/>JavaScript</a><li><a class=navigation__item href=https://maku77.github.io/kotlin/>Kotlin</a><li><a class=navigation__item href=https://maku77.github.io/linux/>Linux/Shell</a><li><a class=navigation__item href=https://maku.blog/p/somcgdw/>Mac</a><li><a class=navigation__item href=https://maku77.github.io/middleman/>Middleman</a><li><a class=navigation__item href=https://toushi.maku.blog/p/etedykx/>MetaTrader</a><li><a class=navigation__item href=https://maku77.github.io/nodejs/>Node.js</a><li><a class=navigation__item href=https://maku77.github.io/octave/>Octave</a><li><a class=navigation__item href=https://maku77.github.io/p4/>Perforce</a><li><a class=navigation__item href=https://maku77.github.io/perl/>Perl</a><li><a class=navigation__item href=https://maku77.github.io/php/>PHP</a><li><a class=navigation__item href=https://maku77.github.io/python/>Python</a><li><a class=navigation__item href=https://maku77.github.io/r/>R</a><li><a class=navigation__item href=https://maku77.github.io/ruby/>Ruby</a><li><a class=navigation__item href=https://maku77.github.io/rust/>Rust</a><li><a class=navigation__item href=https://maku77.github.io/sass/>Sass</a><li><a class=navigation__item href=https://maku77.github.io/sed/>sed/awk</a><li><a class=navigation__item href=https://maku77.github.io/sql/>SQL</a><li><a class=navigation__item href=https://maku77.github.io/tradestation/>トレードステーション</a><li><a class=navigation__item href=https://maku77.github.io/vagrant/>Vagrant</a><li><a class=navigation__item href=https://maku77.github.io/vba/>VBA</a><li><a class=navigation__item href=https://maku77.github.io/vim/>Vim</a><li><a class=navigation__item href=https://maku77.github.io/windows/>Windows</a></ul></nav><style>.codoc-support{display:inline-block;margin:0!important;padding:12px!important;width:200px!important;max-width:100%}.codoc-support .codoc-support-title{font-size:smaller!important;white-space:nowrap;margin-bottom:12px!important}.codoc-support .codoc-btn{width:160px!important}</style><script src=https://codoc.jp/js/cms.js data-css=black data-usercode=tp6ZPzTj3w defer></script><div id=codoc-entry-4gYwTntzzw class=codoc-entries data-without-body=1 data-support-button-text="（っ'-')╮シュッ🔴" data-show-like=0 data-show-about-codoc=0 data-show-powered-by=0 data-support-message=まくに投げ銭できます。></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("a[href^=http]");for(let n=0;n<e.length;++n){const t=e[n];if(t.href.startsWith("https://maku77.github.io"))continue;const s=t.getElementsByTagName("img");if(s.length>0)continue;const o=t.getElementsByTagName("svg");if(o.length>0)continue;t.classList.add("xExternalLinkIcon"),t.setAttribute("target","_blank"),t.setAttribute("rel","noopener")}})</script></body></html>
<!DOCTYPE html>
<html lang="ja">
<head prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb#">
  

  <meta charset="UTF-8">



<!-- Google Search Console -->
<meta name="google-site-verification" content="LhFi5Dhj5KOfXR186QkncucRdBpmVd8B19v-7zcAmlY" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

  <meta name="description" content="天才星人まくの Hugo ノート">

<meta name="keywords" content="Android,Awk,Best Practice,C/C++,CSS,Docker,Fintech,Git,GitHub,Gradle,HTML5,Java,JavaScript,Middleman,MetaTrader,MT4,MT5,Perforce,Python,Ruby,Sed,Shell Script,Vim">

<!-- You can use open graph tags to customize link previews.
Learn more: https://developers.facebook.com/docs/sharing/webmasters -->
<meta property="og:site_name" content="天才まくまくノート" />
<meta property="og:url"     content="https://maku77.github.io/hugo/list/section-children.html" />
<meta property="og:type"    content="website" />
<meta property="og:image"   content="https://maku77.github.io/assets/img/logo-hugo.png" />

  <meta property="og:description" content="天才星人まくの Hugo ノート">

<meta property="fb:app_id"  content="447708168769292" />

<link rel="stylesheet" href="/assets/css/default.css">
<link rel="stylesheet" href="/assets/css/highlight.css">

<!-- Favicons start -->
  <link rel="icon" sizes="16x16 32x32 48x48 64x64" href="/assets/img/favicon/favicon.ico"/>
  <!--[if IE]>
  <link rel="shortcut icon" href="favicon.ico"/>
  <![endif]-->
  <!-- Optional: Android & iPhone -->
  <link rel="apple-touch-icon-precomposed" href="/assets/img/favicon/favicon-152.png"/>
<!-- Favicons end -->

<script src="/assets/js/jquery-3.2.1.min.js"></script>


  <!-- Google Ad Manager -->
  <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
<script>
  window.googletag = window.googletag || {cmd: []};
  googletag.cmd.push(function() {
    googletag.defineSlot('/22026661446/maku77-sidebar', [200, 200], 'div-gpt-ad-1590069504630-0').addService(googletag.pubads());
    googletag.pubads().enableLazyLoad();
    googletag.enableServices();
  });
</script>


  <!-- Codoc 投げ銭ライブラリ -->
  <style>
/* codoc サポートボタン用スタイル */
.codoc-support {
  display: inline-block;
  margin: 0 !important;
  padding: 12px !important;
  width: 400px;
  max-width: 100%;
  /* background: gray !important; */
}
.codoc-support .codoc-support-title {
  font-size: smaller !important;
  white-space: nowrap;
  margin-bottom: 12px !important;
}
.codoc-support .codoc-btn {
  width: 180px !important;
}
</style>
<script src="https://codoc.jp/js/cms.js" data-css="black" data-usercode="tp6ZPzTj3w" charset="UTF-8" defer></script>


  <!-- Google Analytics -->
  <!-- Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-63069513-1', 'auto');
  ga('send', 'pageview');
</script>



  <meta property="og:title" content="同一セクション内のページ／セクションの一覧を表示する | まくまくHugoノート" />
  <title>同一セクション内のページ／セクションの一覧を表示する - まくまくHugoノート</title>

  <!-- Ad (Google) -->
  
</head>
<body>

<div class="xPageHeader">
  <a href="/hugo/">
    <img src="/assets/img/logo-hugo.png" class="xPageHeader_logo">
  </a>
  <a href="/hugo/">
    <div class="xPageHeader_category">
    まくまくHugoノート
    </div>
  </a>
  <div class="xPageHeader_title">同一セクション内のページ／セクションの一覧を表示する</div>
</div>

<div id="xBody">
  

<div class="xBreadCrumbContainer">
  <div class="xBreadCrumb"><a href="/">&#x1F3E0;HOME</a> &gt; <a href="/hugo/">Hugo</a></div>
  <div class="xPageDate">2020-01-14</div>
</div>

  

  <form action="https://www.google.co.jp/cse" id="cse-search-box">
  <div class="xSearchBar">
    <input type="hidden" name="cx" value="partner-pub-6317852277883092:5930376365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input class="xSearchBar_text" type="search" name="q" placeholder="ノートを検索できます…" size="55" results="5" autocomplete="off" /><input class="xSearchBar_button" type="submit" name="sa" value="&#128269; 検索 " />
  </div>
</form>



  <div id="xContainer">
    <div id="xContainer_main">
      <!-- SNS ボタン（上） -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">




<ul class="xSnsButtons">
  <!-- Twitter -->
  <li class="xSnsButtons_twitter">
    <a rel="nofollow" href="https://twitter.com/share?text=まくまくHugoノート： 同一セクション内のページ／セクションの一覧を表示する&url=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'tweet_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-twitter"></i><span class="xSnsButtons_label">ツイート</span>
    </a>
  </li>

  <!-- Facebook -->
  <li class="xSnsButtons_facebook">
    <a rel="nofollow" href="https://www.facebook.com/share.php?u=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'facebook_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-facebook-square"></i><span class="xSnsButtons_label">シェア</span>
    </a>
  </li>

  <!-- Pocket -->
  <li class="xSnsButtons_pocket">
    <a rel="nofollow" href="https://getpocket.com/edit?url=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'pocket_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-get-pocket"></i><span class="xSnsButtons_label">Pocket</span>
    </a>
  </li>
</ul>



      

      <!-- 概要 -->
      

      <div class="xWidget">
        
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6317852277883092"
     data-ad-slot="8099671242"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


      </div>

      <div class="xContent">
        <!-- 本文 -->
        <h2 id="そのセクション内のページ一覧を取得する-pagesregularpages">そのセクション内のページ一覧を取得する (.Pages、.RegularPages)</h2>

<p>リストテンプレートやセクションテンプレートの中で、<strong><code class="language-plaintext highlighter-rouge">.Pages</code></strong> を参照すると、そのセクション（やタクソノミー）直下の記事ページ (regular page) とセクションページ (list page) の一覧を <code class="language-plaintext highlighter-rouge">Page</code> オブジェクトの配列として取得することができます。</p>

<h4 id="layouts_defaultsectionhtml">layouts/_default/section.html</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h3&gt;</span>セクションに含まれる記事ページ（あるいはセクションページ）の一覧<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  {{ range .Pages }}
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ .RelPermalink }}"</span><span class="nt">&gt;</span>{{ .Title }}<span class="nt">&lt;/a&gt;</span>
  {{ end }}
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>記事ページ (regular page) のみを列挙したい場合は、<code class="language-plaintext highlighter-rouge">.Pages</code> の部分を <strong><code class="language-plaintext highlighter-rouge">.RegularPages</code></strong> に変更してください。
セクションページ (list page) のみを列挙したい場合は、<code class="language-plaintext highlighter-rouge">.Pages</code> の部分を <strong><code class="language-plaintext highlighter-rouge">Sections</code></strong> に変更してください。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">.Pages</code> – セクションページと記事ページの一覧</li>
  <li><code class="language-plaintext highlighter-rouge">.RegularPages</code> – 記事ページの一覧</li>
  <li><code class="language-plaintext highlighter-rouge">.Sections</code> – セクションページの一覧</li>
</ul>

<p>上記のようなテンプレートは、タクソノミーテンプレート（タグの一覧ページ）でも同様に使用することができます。</p>

<p>ただし、<code class="language-plaintext highlighter-rouge">.Pages</code> や <code class="language-plaintext highlighter-rouge">.RegularPages</code> は、リスト系のページから参照することが想定されているため、シングルページテンプレート内で参照すると、サイズ 0 の配列が返されることに注意してください。
そのため、基本的には上記のコードはリスト系のテンプレートでのみ使用することができます。</p>

<p>シングルページテンプレートからも、同一セクション内のページの一覧を取得したい場合は、まず <code class="language-plaintext highlighter-rouge">.CurrentSection</code> でカレントセクションを示す <code class="language-plaintext highlighter-rouge">Page</code> オブジェクトを取得するとよいでしょう（下記参照)。</p>

<h2 id="同一セクション内のページ一覧を取得する-currentsectionpages">同一セクション内のページ一覧を取得する (.CurrentSection.Pages)</h2>

<p>下記のテンプレートコードは、現在の記事ページ（あるいはセクションページ）が所属するセクションの直下のページ（記事ページおよびセクションページ）の一覧を表示します。</p>

<p>例えば、ホームページを含むトップレベルの階層に置いた記事で実行された場合は、第一階層にあるセクションおよび記事ページの一覧が表示されます。
何らかのセクション内の記事で実行された場合は、その記事が所属するセクション内のサブセクションおよび記事ページの一覧が表示されます。</p>

<h4 id="layouts_defaultsinglehtml-など">layouts/_default/single.html など</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h3&gt;</span>同じセクション内のページ一覧（セクションページを含む）<span class="nt">&lt;/h3&gt;</span>
{{ with .CurrentSection }}
  <span class="nt">&lt;ul&gt;</span>
    {{ range .Pages }}
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ .RelPermalink }}"</span><span class="nt">&gt;</span>{{ .Title }}<span class="nt">&lt;/a&gt;</span>
    {{ end }}
  <span class="nt">&lt;/ul&gt;</span>
{{ end }}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">.Pages</code> 変数はリスト系ページ（セクションページなど）の <code class="language-plaintext highlighter-rouge">Page</code> オブジェクトにしか要素が格納されない（記事ページでは空配列）になってしまうので、まずは自分自身の記事ページが所属するセクションに対応する <code class="language-plaintext highlighter-rouge">Page</code> オブジェクトを、<code class="language-plaintext highlighter-rouge">.CurrentSection</code> で取得してから処理を行うようにしています。</p>

<p>先に説明したのと同様、記事ページのみを列挙したい場合は <code class="language-plaintext highlighter-rouge">.Pages</code> の代わりに <code class="language-plaintext highlighter-rouge">.RegularPages</code> を、セクションページのみを列挙したい場合は <code class="language-plaintext highlighter-rouge">.Pages</code> の代わりに <code class="language-plaintext highlighter-rouge">.Sections</code> を参照してください。</p>

<p>このコードは、シングルページテンプレートからも、リストテンプレートからも使用できます。</p>

<h2 id="参考">参考</h2>

<ul>
  <li><a href="https://gohugo.io/variables/page/">Hugo | Page Variables</a>
    <blockquote>
      <p>a collection of associated pages. This value will be nil for regular content pages. .Pages is an alias for .Data.Pages.</p>
    </blockquote>
  </li>
  <li><a href="https://github.com/gohugoio/hugo/blob/master/hugolib/page.go#L101">hugo/page.go at master · gohugoio/hugo · GitHub</a>
    <blockquote>
      <p>Since Hugo 0.18 we got rid of the Node type. So now all pages are pages (regular pages, home page, sections etc.).
Sections etc. will have child pages. These were earlier placed in .Data.Pages, but can now be more intuitively also be fetched directly from .Pages.
This collection will be nil for regular pages.</p>
    </blockquote>
  </li>
</ul>

<h2 id="コラム-ホームページでの-pages-変数の振る舞いについて">コラム: ホームページでの .Pages 変数の振る舞いについて</h2>

<p><strong>（これは Hugo v0.58.0 より前のバージョンの記事です）</strong></p>

<p>Hugo v0.58.0 で、ホームページにおける <code class="language-plaintext highlighter-rouge">.Pages</code> 変数、<code class="language-plaintext highlighter-rouge">.RegularPages</code> 変数の振る舞いが、他のセクションページと同じになりました（そのセクション直下のページだけ返す）。
なので、<strong>v0.58.0 以降を使用する場合は、下記の対応は必要ありません</strong>。</p>

<ul>
  <li>参考: <a href="https://github.com/gohugoio/hugo/releases/tag/v0.58.0">Hugo v0.58.0 Release Note</a></li>
</ul>

<blockquote>
  <p>home.Pages now behaves like all the other sections, see #6240. If you want to list all the regular pages, use .Site.RegularPages.</p>
</blockquote>

<h3 id="ホームページテンプレートとセクションテンプレートでの-pages-の振る舞いの違い">ホームページテンプレートとセクションテンプレートでの .Pages の振る舞いの違い</h3>

<p>ホームページテンプレート (<code class="language-plaintext highlighter-rouge">layouts/index.html</code>) 内で <code class="language-plaintext highlighter-rouge">.Pages</code> を参照すると、<strong>サイト内のすべてのページ</strong>の <code class="language-plaintext highlighter-rouge">Page</code> 配列が返されるのですが、セクションテンプレート (<code class="language-plaintext highlighter-rouge">layouts/_default/section.html</code>) 内で <code class="language-plaintext highlighter-rouge">.Pages</code> を参照すると、その<strong>セクション直下にあるページ</strong>のみの <code class="language-plaintext highlighter-rouge">Page</code> 配列が返されるという違いがあるようです。</p>

<p>テンプレート内で <code class="language-plaintext highlighter-rouge">.Pages</code> 変数を参照するときは、そのテンプレートがホームページテンプレートと、セクションテンプレートのどちらのコンテキストで使用されるかを意識して扱い方を変える必要があります。
特に、<code class="language-plaintext highlighter-rouge">layouts/_default/list.html</code> のような、ホームページテンプレートとしても、セクションテンプレートとしても使用されるファイルを作成する場合には注意してください。</p>

<p>次の節では、この点を考慮して、カレントセクション直下に配置されたページのみのリストを取得する方法を示します。</p>

<h3 id="同一セクションの直下の記事ページのリストを表示する">同一セクションの直下の記事ページのリストを表示する</h3>

<p>下記のテンプレートコードは、現在のページが所属するセクションの直下に配置された記事ページのリストを表示します。</p>

<h4 id="layoutspartialssubpageshtml">layouts/partials/subpages.html</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{- $sec := .CurrentSection }}
{{- if $sec }}
  {{- if $sec.IsHome }}
    {{ .Scratch.Set "pages" (where $.Site.RegularPages "Section" "") }}
  {{- else }}
    {{ .Scratch.Set "pages" $sec.Pages }}
  {{- end }}
{{- end }}

<span class="nt">&lt;h3&gt;</span>同じセクション内の記事ページ一覧<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  {{- range (.Scratch.Get "pages") }}
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ .RelPermalink }}"</span><span class="nt">&gt;</span>{{ .Title }}<span class="nt">&lt;/a&gt;</span>
  {{- end }}
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>例えば、”mysection” セクションに所属する記事ページのテンプレートで上記のコードが実行されると、同じ “mysection” セクションに所属する記事ページのリストが表示されます。
また、ホームページを含む、トップレベル（<code class="language-plaintext highlighter-rouge">content</code> ディレクトリ直下）に配置したページ内で実行した場合は、トップレベルに配置した記事ページのリストが表示されます。
つまり、上記のパーシャルテンプレートは、下記のような様々なテンプレートファイル内から同様に使用することができます。</p>

<ul>
  <li>ホームページテンプレート (<code class="language-plaintext highlighter-rouge">layouts/index.html</code>)</li>
  <li>セクションテンプレート (<code class="language-plaintext highlighter-rouge">layouts/_default/section.html</code>)</li>
  <li>汎用リストテンプレート (<code class="language-plaintext highlighter-rouge">layouts/_default/list.html</code>)</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ partial "subpages" . }}
</code></pre></div></div>

<p>テンプレートコードが若干複雑になっているのは、<code class="language-plaintext highlighter-rouge">.Pages</code> の振る舞いがコンテキストによって変わってくることが影響しています。
セクションページ内では、単純に <code class="language-plaintext highlighter-rouge">.Pages</code> を参照すれば、セクション直下の記事ページ一覧を取得できるのですが、ホームページで <code class="language-plaintext highlighter-rouge">.Pages</code> を参照すると、サイト内のすべてのページが含まれてしまいます。
そこで、現在のページがトップレベルの階層の記事である場合は、ちょっと特殊な方法、セクションを持たない記事の一覧を取得する (<code class="language-plaintext highlighter-rouge">where $.Site.RegularPages "Section" ""</code>) といった回りくどいことを行っています。</p>

<p>ちなみに、前半部分は次のようにセクション名 (<code class="language-plaintext highlighter-rouge">.Section</code>) の有無で分岐するように書けそうですが、このような記述はタクソノミーテンプレートのコンテキストではエラーになってしまいます。
なぜなら、<code class="language-plaintext highlighter-rouge">https://example.com/tags/tag1/</code> のようなタグページにアクセスした場合に、セクション名 (<code class="language-plaintext highlighter-rouge">.Section</code>) に <code class="language-plaintext highlighter-rouge">tags</code> という文字列が格納されるのにもかかわらず、<code class="language-plaintext highlighter-rouge">.CurrentSection</code> の値は <code class="language-plaintext highlighter-rouge">nil</code> になってしまうからです（<code class="language-plaintext highlighter-rouge">.CurrentSection</code> の nil dereference エラーが発生する）。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{/* カレントセクション直下の記事ページ一覧を "pages" スクラッチに格納 */}}
{{- if .Section }}
  {{ .Scratch.Set "pages" .CurrentSection.Pages }}
{{- else }}
  {{ .Scratch.Set "pages" (where $.Site.RegularPages "Section" "") }}
{{- end }}
</code></pre></div></div>

<p>このような記述をするのであれば、全体を <code class="language-plaintext highlighter-rouge">{{ if nq .Kind "taxonomy" }} 〜 {{ end }}</code> のように囲んで、タクソノミーテンプレートのコンテキストでは実行されないようにしておくべきでしょう。
そうすると、結局のところ、最初の例とあまりコード量は変わらなくなります。</p>

<p>あと、<code class="language-plaintext highlighter-rouge">$pages</code> 変数のようなものを作成せずに、わざわざ <code class="language-plaintext highlighter-rouge">.Scratch.Set</code> を使ってスクラッチ領域にページリストを保存しているのは、Go テンプレートの構文で、変数の条件代入を行ううまい方法が用意されていないからです。
このあたりの話は、<a href="https://github.com/golang/go/issues/10608">こちらの Hugo のサイトで議論されています</a>。
スクラッチ領域 (<code class="language-plaintext highlighter-rouge">.Scratch</code>) を使用するのが気持ち悪いという場合は、下記のように、<code class="language-plaintext highlighter-rouge">define</code> による部分テンプレートを定義してしまえば、変数を用意しなくてすみますね。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{- define "showPageList" }}
  <span class="nt">&lt;h3&gt;</span>同じセクション内の記事ページ一覧<span class="nt">&lt;/h3&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    {{- range . }}
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ .RelPermalink }}"</span><span class="nt">&gt;</span>{{ .Title }}<span class="nt">&lt;/a&gt;</span>
    {{- end }}
  <span class="nt">&lt;/ul&gt;</span>
{{- end }}

{{- with $sec := .CurrentSection }}
  {{- if $sec.IsHome }}
    {{ template "showPageList" (where $.Site.RegularPages "Section" "") }}
  {{- else }}
    {{ template "showPageList" $sec.Pages }}
  {{- end }}
{{- end }}
</code></pre></div></div>

<h3 id="条件代入は-cond-関数でスッキリかける2017-12-30-追記">条件代入は cond 関数でスッキリかける！？（2017-12-30 追記）</h3>

<p>Hugo v0.27 で、３項演算子のようなことが実現できる <code class="language-plaintext highlighter-rouge">cond</code> 関数が追加されました（参考: <a href="https://github.com/gohugoio/hugo/issues/3860">Ternary operator-like function · Issue #3860 · gohugoio/hugo · GitHub</a>）。
まだ公式ドキュエントには <code class="language-plaintext highlighter-rouge">cond</code> 関数の記載がないようですが、下記のように使用できます。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{{ $変数 := (cond (条件式) 真の場合の値 偽の場合の値) }}
</code></pre></div></div>

<p>これで回りくどい <code class="language-plaintext highlighter-rouge">.Scratch</code> イディオムを使用しなくて済む！やったー！(^o^)/
と思って、下記のように書いてみました。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h3&gt;</span>同じセクション内の記事ページ一覧<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  {{- $pages := (cond (eq .Section "") (where $.Site.RegularPages "Section" "") .CurrentSection.RegularPages) }}
  {{- range $pages }}
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{{ .RelPermalink }}"</span><span class="nt">&gt;</span>{{ .Title }}<span class="nt">&lt;/a&gt;</span>
  {{- end }}
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>がしかし！
<code class="language-plaintext highlighter-rouge">cond</code> 関数を使用して上記のように記述すると、条件式が真と判定される場合も、後ろの <code class="language-plaintext highlighter-rouge">.CurrentSection.Pages</code> の部分が評価されてしまうようです（値が実際に使われなくても実行される）。
<code class="language-plaintext highlighter-rouge">.CurrentSection</code> は <code class="language-plaintext highlighter-rouge">nil</code> になるケースがあるので、そのようなコンテキストで実行された場合にエラーになってしまいます。
Go の並列実行の都合なのだと思いますが、惜しい！</p>


      </div>

      <!-- Ad (楽天) -->
      
        <div class="xWidget"><!-- Rakuten Widget FROM HERE -->
<script>
  /* レスポンシブデザインもどき */
  var SIDEBAR_HIDE_THRESHOLD = 800;
  var SIDEBAR_WIDTH = 250;
  var OFFSET = 10;
  var w = window.innerWidth;
  if (w >= SIDEBAR_HIDE_THRESHOLD) {
    w -= SIDEBAR_WIDTH;
  }
  w -= OFFSET;

  if (w >= 728) {
    rakuten_size="728x200";
  } else if (w >= 600) {
    rakuten_size="600x200";
  } else if (w >= 468) {
    rakuten_size="468x160";
  } else if (w >= 336) {
    rakuten_size="336x280";
  } else if (w >= 300) {
    rakuten_size="300x250";
  } else if (w >= 250) {
    rakuten_size="250x250";
  } else {
    rakuten_size="200x350";
  }

  rakuten_design="slide";
  rakuten_affiliateId="1239b074.74af6526.1239b075.bc72ef6e";
  rakuten_items="ctsmatch";
  rakuten_genreId=0;
  rakuten_target="_blank";
  rakuten_theme="gray";
  rakuten_border="off";
  rakuten_auto_mode="on";
  rakuten_genre_title="off";
  rakuten_recommend="on";
  rakuten_txtColor="333333";
  rakuten_moverColor="30C030";
  rakuten_bgColor="FFFFFF";
  rakuten_captionColor="333333";
</script>
<script src="https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js"></script>
<!-- Rakuten Widget TO HERE -->

</div>
      

      <!-- SNS ボタン（下） -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">




<ul class="xSnsButtons">
  <!-- Twitter -->
  <li class="xSnsButtons_twitter">
    <a rel="nofollow" href="https://twitter.com/share?text=まくまくHugoノート： 同一セクション内のページ／セクションの一覧を表示する&url=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'tweet_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-twitter"></i><span class="xSnsButtons_label">ツイート</span>
    </a>
  </li>

  <!-- Facebook -->
  <li class="xSnsButtons_facebook">
    <a rel="nofollow" href="https://www.facebook.com/share.php?u=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'facebook_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-facebook-square"></i><span class="xSnsButtons_label">シェア</span>
    </a>
  </li>

  <!-- Pocket -->
  <li class="xSnsButtons_pocket">
    <a rel="nofollow" href="https://getpocket.com/edit?url=https://maku77.github.io/hugo/list/section-children.html"
        onclick="window.open(encodeURI(decodeURI(this.href)), 'pocket_window',
        'width=600, height=470, toolbar=no, scrollbars=yes, resizable=yes'); return false;">
      <i class="fa fa-get-pocket"></i><span class="xSnsButtons_label">Pocket</span>
    </a>
  </li>
</ul>



      
      <div class="xArticle_up">
        <a href="/hugo/"><span class="xArticle_up_label">まくまくHugoノート</span><br>へ戻る</a>
      </div>

    </div>

    <div id="xContainer_sidebar"><style>
.local-logo {
  position: relative;
  border: none;
  background: none;
}
.local-logo img {
  width: 100%;
  vertical-align: bottom;
  border: none;
  border-radius: 15px;
}
.local-logo figcaption {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  text-align: center;
  font-size: 12pt;
  color: white;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 15px 15px 0 0;
}
</style>

<div id="xContainer_sidebar_notFixed">
  <div data-sticky><nav class="xNav">
  <div class="xNav_header">カテゴリ一覧</div>
  <ul>
        <li><a href="/memo/">いろいろ</a>
        <li><a href="/android/">Android</a>
        <li><a href="/ansible/">Ansible</a>
        <li><a href="/blender/">Blender</a>
        <li><a href="/cpp/">C/C++</a>
        <li><a href="/docker/">Docker</a>
        <li><a href="/git/">Git</a>
        <li><a href="/go/">Go言語</a>
        <li><a href="/gradle/">Gradle</a>
        <li><a href="/web/">HTML/CSS</a>
        <li class="xNav-focused"><a href="/hugo/">Hugo</a>
        <li><a href="/java/">Java</a>
        <li><a href="/js/">JavaScript</a>
        <li><a href="/kotlin/">Kotlin</a>
        <li><a href="/linux/">Linux/Shell</a>
        <li><a href="/mac/">Mac</a>
        <li><a href="/middleman/">Middleman</a>
        <li><a href="/mt/">Meta Trader</a>
        <li><a href="/nodejs/">Node.js</a>
        <li><a href="/octave/">Octave</a>
        <li><a href="/p4/">Perforce</a>
        <li><a href="/perl/">Perl</a>
        <li><a href="/php/">PHP</a>
        <li><a href="/python/">Python</a>
        <li><a href="/r/">R</a>
        <li><a href="/ruby/">Ruby</a>
        <li><a href="/sass/">Sass</a>
        <li><a href="/sed/">sed/awk</a>
        <li><a href="/sql/">SQL</a>
        <li><a href="/tradestation/">トレードステーション</a>
        <li><a href="/vagrant/">Vagrant</a>
        <li><a href="/vba/">VBA</a>
        <li><a href="/vim/">Vim</a>
        <li><a href="/windows/">Windows</a>
  </ul>
</nav>

</div>

  
    <div data-sticky class="xContainer_sidebar_ad">
      <div style="text-align: right">
  <div id="codoc-entry-4gYwTntzzw" class="codoc-entries" data-without-body="1" data-support-button-text="（っ&#039;-&#039;)╮シュッ=͟͟͞͞ 💵" data-show-like="0" data-show-about-codoc="0" data-show-powered-by="0" data-support-message="まくに投げ銭できます。"></div>
</div>

    </div>
    <div data-sticky class="xContainer_sidebar_ad">
      
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- まくノート_サイド矩形 (200x200) -->
<ins class="adsbygoogle"
     style="display:inline-block;width:200px;height:200px"
     data-ad-client="ca-pub-6317852277883092"
     data-ad-slot="4284289561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


    </div>
    <div data-sticky class="xContainer_sidebar_ad">
      <!-- /22026661446/maku77-sidebar -->
<div id='div-gpt-ad-1590069504630-0' style='width: 200px; height: 200px;'>
  <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1590069504630-0'); });
  </script>
</div>

    </div>
  

  <div data-sticky class="xContainer_sidebar_ad">
    <a href="/">
      <figure class="local-logo">
        <img src="/assets/img/kuma_inu.jpg">
        <figcaption>天才まくまくノート</figcaption>
      </figure>
    </a>
  </div>

  <div data-sticky><form action="https://www.google.co.jp/cse" id="cse-search-box">
  <div class="xSearchBar">
    <input type="hidden" name="cx" value="partner-pub-6317852277883092:5930376365" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input class="xSearchBar_text" type="search" name="q" placeholder="ノートを検索できます…" size="55" results="5" autocomplete="off" /><input class="xSearchBar_button" type="submit" name="sa" value="&#128269; 検索 " />
  </div>
</form>

</div>
</div>
<div id="xContainer_sidebar_fixed"></div>

</div>
  </div>

  <!-- <div class="xPageFooter"> -->
    

<div class="xBreadCrumbContainer">
  <div class="xBreadCrumb"><a href="/">&#x1F3E0;HOME</a> &gt; <a href="/hugo/">Hugo</a></div>
  <div class="xPageDate">2020-01-14</div>
</div>

  <!-- </div> -->
</div>

  <!-- MathJax -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/assets/js/fix-sidebar.js"></script>

<!-- maku-common.js -->
<script>
$(function() {
  var $content = $('.xContent');
  // 外部リンクを必ず新しいタブで開く
  $content.find('a[href^=http]').attr('target', '_blank').attr('rel', 'noopener');
  // 外部リンクにクラス属性を付加する
  $content.find('a[href^=http]:not(:has(img))').addClass("xExternalLinkIcon");
});
</script>


</body>
</html>

---
title: "Perforceメモ: バイナリファイルとしてファイルを追加する (p4 add)"
url: "p/c5cbycb/"
date: "2006-09-11"
tags: ["perforce"]
aliases: ["/p4/add-as-binary.html"]
---

新しくファイルを Perforce で管理しようとするときに `p4 add` でファイルを追加すると、デフォルトでは拡張子に関連付けられたファイルタイプ（バイナリ or テキスト）のファイルとして登録されます。

- 参考: [ファイルを `p4 add` したときにデフォルトで設定される filetype を調べる (`p4 typemap`)](/p/awws7h4/)

テキストとして登録されたファイルは、ファイル同期の際に改行コードが自動的に変換されるといった振る舞いをします（設定により異なります）。
こういった振る舞いでは都合が悪い場合は、ファイルタイプを明示的に指定して `p4 add` を実行できます。
例えば、CSV ファイルはデフォルトではテキストファイルとして登録されますが、下記のようにすれば強制的にバイナリファイルとして登録できます。

{{< code lang="console" title="例: バイナリファイルとして CSV ファイルを追加する" >}}
$ p4 add -t binary sample.csv
{{< /code >}}


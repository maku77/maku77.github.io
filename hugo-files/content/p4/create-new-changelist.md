---
title: "Perforceメモ: 新しいチェンジリストを作成する（デフォルトのチェンジリストにチェンジリスト番号を付ける）"
url: "p/oqp4zgv/"
date: "2006-08-22"
tags: ["perforce"]
aliases: ["/p4/create-new-changelist.html"]
---

チェンジリスト番号を指定せずに `p4 edit` コマンドなどを実行すると、そのファイルはデフォルトのチェンジリストに入ります。
デフォルトのチェンジリストの内容は `p4 change` コマンドで確認・編集できます。

```console
$ p4 change
```

と実行すると、`P4EDITOR` 環境変数に指定されているエディタでチェンジリストの内容が表示されます。
その中に、

```
Change: new
```

という行があれば、それがデフォルトのチェンジリストであることを示しています。
ここで、Description の項目にその変更の説明を加えてエディタを閉じると、

```
Change 42332 created with 4 open file(s).
```

のように表示され、デフォルトのチェンジリストに追加されていたファイルが、チェンジリスト番号 42332 のチェンジリストに移動されます。
つまり、Description に説明を記述することで、初めてチェンジリスト番号が振られることになります。
例えば、最初の状態が、

```
デフォルトのチェンジリスト:
  hoge1.txt
  hoge2.txt
  hoge3.txt
```

だとして、`p4 change` コマンドで Description を入力すると、

```
デフォルトのチェンジリスト:
  ＜空＞

チェンジリスト 42332:
  hoge1.txt
  hoge2.txt
  hoge3.txt
```

のようになります。
その後 `p4 edit` などで編集の印を付けたファイルは、デフォルトのチェンジリストの方に追加されていきます。
このようにして、複数ファイルの修正を、チェンジリストという形でグルーピングして管理できるようになっています。

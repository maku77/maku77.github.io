---
title: "Vim で行を連結する (J, gJ)"
url: "p/etgm2a4/"
date: "2018-09-20"
tags: ["vim"]
aliases: ["/vim/edit/join.html"]
---

スペースを入れて行連結、スペース入れずに行連結
----

{{< image src="img-001.gif" >}}

行末の改行を削除して次の行と連結するには下記のコマンドを使用します。

- <kbd>J</kbd>: スペースを1文字いれて連結する。
- <kbd>gJ</kbd>: スペースを入れずに連結する。


複数行をまとめて連結する
----

ビジュアルモード (<kbd>SHIFT-V</kbd>) で複数行を選択してから <kbd>J</kbd> や <kbd>gJ</kbd> と入力すると、複数の行をまとめて連結することができます。

{{< image src="img-002.gif" >}}

3行以上の行をスペースを入れずに連結したい場合は、上図のようにビジュアルモードで複数行を選択した状態で <kbd>gJ</kbd> とするか、一行だけ <kbd>gJ</kbd> で連結しておいて、残りの行を <kbd>.</kbd> の連打で連結するのがお手軽です。


文章の終わりはスペース 2 つで連結される
----

<kbd>J</kbd> による行の連結部分には、通常 1 つの半角スペースが挿入されますが、行末が句点（`.`、 `?`、`!`）で終了している場合は 2 つの半角スペースが挿入されます。
この振る舞いを変更するには、以下のオプションを設定します。

{{< code lang="vim" >}}
:set joinspaces    "行連結時に句点のあとに 2 つのスペースを挿入 (default)
:set nojoinspaces  "行連結時に句点のあとに 1 つのスペースを挿入
{{< /code >}}

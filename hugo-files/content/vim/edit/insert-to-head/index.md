---
title: "Vim で複数行の行頭に同じテキストを挿入する"
url: "p/mp48ku2/"
date: "2018-09-04"
tags: ["vim"]
aliases: ["/vim/edit/insert-to-head.html"]
---

すべての行の行頭にテキストを追加
----

すべての行の行頭にスペース4文字を挿入したいときは、次のように置換コマンドを実行します。

```
:%s/^/    /
```

`%` はすべての行に対して置換を実行することを表します。
`^` は行頭を表す記号です。


選択範囲の行の行頭にテキストを追加
----

{{< image src="img-001.gif" >}}

特定範囲の行の行頭だけに、文字を挿入したいときは次のようにします。

1. <kbd>0</kbd> で行頭にフォーカスを移動する。
2. <kbd>Ctrl-v</kbd> で矩形選択モードにし、<kbd>j</kbd> を数回押して、対象範囲の行の行頭がすべて選択された状態にする。
3. <kbd>Shift-i</kbd> で行頭への挿入モードに入り、任意の文字を入力。
4. <kbd>Esc</kbd> で挿入モードを抜ける。

文字の入力中は、カレント行にしか文字が挿入されていないかのように見えますが、最後に <kbd>Esc</kbd> キーで挿入モードを抜けたときに、すべての行に同じ文字が挿入されます。

ソースコードの複数行をまとめてコメントアウトしたり、（上記アニメーションのように）Markdown 内のテキストをまとめて箇条書きにしたりするときに便利できます。